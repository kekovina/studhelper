{"version":3,"sources":["img/0_0.png","img/0_1.png","img/0_2.png","img/1_0.png","img/1_1.png","img/1_2.png","img/1_4.png","img/2_0.png","store/mainStore.js","components/CardInfo.js","panels/Home.js","panels/Schedule.js","panels/Settings.js","components/OwnProgressCard.js","utils/ProgressParser.js","panels/Progress.js","panels/Start.js","panels/DetailedProgress.js","panels/Error.js","components/NewsCard.js","panels/News.js","panels/Hello.js","panels/AdminMenu.js","panels/admin/LastVisit.js","App.js","index.js","utils/functions.js","config.js","utils/modals.js","img/1_3.png"],"names":["module","exports","ScreenSpinner","configure","enforceActions","activePanel","screenHistory","loadingAppStatus","code","text","fetchedUser","theme","appUser","group","popout","progress","detailed","schedule","error","modal","modalHistory","settings","coords","result","where","setActivePanel","value","setVkUser","user","setAppUser","setCoords","updateLoadingAppStatus","status","updateScreenHistory","history","setSettings","setPopout","setProgress","setDetailed","getSchedule","a","axios","get","serverURL","params","then","res","data","err","initApp","id","num","updated","first_name","setError","setModal","setModalHistory","setActiveModal","activeModal","indexOf","splice","push","setTheme","makeObservable","this","observable","action","CardInfo","title","subtitle","content","className","Home","inject","observer","store","go","useState","timeToDate","Date","s","timerValue","updateTimerValue","timerHTML","timeFormat","useEffect","interval","setInterval","clearInterval","style","background","src","photo_100","size","currentLesson","mode","margin","Schedule","platform","getDate","display","flexDirection","alignItems","justifyContent","marginTop","width","height","color","weight","fontSize","textTransform","Settings","snackbar","storyChange","joke","setJoke","jokes","randomInteger","min","max","rand","Math","random","floor","length","perc","header","before","indicator","onClick","MODAL_CHANGE_GROUP","MODAL_CHANGE_NUM","disabled","data-to","OwnProgressCard","attWidth","setAttWidth","resWidth","setResWidth","aw","Promise","resolve","reject","setTimeout","document","querySelectorAll","forEach","el","classList","add","rw","t","all","animationCallback","remove","d","points","clt","km","m","test","class","name","slice","require","Progress","createError","selectedTerm","setSelectTerm","type","descr","back","catch","e","getProgress","alignSelf","prepareDate","cacheTime","map","i","index","selected","Start","props","aff","form","setForm","validAff","setValidAff","validNum","setValidNum","onChange","currentTarget","top","bottom","vku","stretched","osName","DetailedProgress","left","window","IOS","term","getKM","stickers","stick1","stick2","stick3","stick4","stick5","stick6","stick7","stick8","stick9","Error","console","log","sticker","round","scheme","body","attributes","getNamedItem","href","JSON","stringify","NewsCard","photo","date","News","news","setNews","bridge","send","response","items","item","attachments","pop","sizes","url","Hello","loading","setRandom","copy_jokes","id_joke","cjoke","filter","to","mainStore","clearTimeout","photo_200","line","AdminMenu","exam","isExam","snack","onClose","setSnackbar","after","LastVisit","users","setUsers","timeout","join","resp","lastVisit","error_data","caption","last_name","withAdaptivity","setSchedule","valid","setValid","textForm","setTextForm","modalBack","themeSched","subscribe","detail","schemeAttribute","createAttribute","setNamedItem","obj","fetchData","onModalChangeForm","modalRoot","right","bind","padding","paddingBottom","MODAL_CHANGE_SCHED_THEME","dataset","pushState","panel","parse","addEventListener","preventDefault","state","menu","removeEventListener","onStoryChange","story","activeStory","tabbar","data-story","View","createUser","errorHandler","viewWidth","ReactDOM","render","getElementById","now","getTime","hours","minutes","getHours","getMinutes","getMonth","getFullYear","offset","createOffset","setHours","setMinutes","setSeconds","months","day","getDay","mini","getWeek","numDay","time","from","abs","h","format","replace","version"],"mappings":"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","file":"static/js/main.076593c9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/0_0.bbe0751b.png\";","module.exports = __webpack_public_path__ + \"static/media/0_1.f236a8b6.png\";","module.exports = __webpack_public_path__ + \"static/media/0_2.b5846721.png\";","module.exports = __webpack_public_path__ + \"static/media/1_0.ba26d055.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/1_2.19cc26df.png\";","module.exports = __webpack_public_path__ + \"static/media/1_4.1eb61ae6.png\";","module.exports = __webpack_public_path__ + \"static/media/2_0.4fd69ddc.png\";","import { action, configure, observable, makeObservable, computed } from 'mobx'\r\nimport { serverURL } from '../config'\r\nimport axios from 'axios'\r\nimport { getDate, getTime } from '../utils/functions'\r\nimport React from 'react';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\n\r\n\r\nconst spinner = <ScreenSpinner size='large' />\r\n\r\nconfigure({ enforceActions: \"always\"})\r\n\r\nclass MainStore{\r\n    activePanel = 'hello'\r\n    screenHistory = []\r\n    loadingAppStatus = {code: 777, text: [\"Устанавливаю связь с космосом\"]}\r\n\r\n\r\n    fetchedUser = null\r\n    theme = 'light'\r\n    appUser = {\r\n        group: \"\"\r\n    }\r\n    popout = null\r\n    progress = null\r\n    detailed = null\r\n    schedule = null\r\n    error = null\r\n    modal = null\r\n    modalHistory = []\r\n    settings = {}\r\n    coords = {coords:{}, result: false, where: false}\r\n    // get currentLesson(){\r\n    //   const get = () => {\r\n    //     let date = getDate(new Date())\r\n    //     let day = this.schedule ? this.schedule.data.filter(item => item.date == date.mini)[0]?.schedule || null : null\r\n    //     let now = getTime(new Date())\r\n    //     // let now = getTime(new Date('2021-05-11 12:00'))\r\n    //     let res = day ? day.filter(item => (now <= item.end)).shift() : null\r\n    //     if(res){\r\n    //       let sched = day.filter(item => item.start == res.start)\r\n    //       let text = res.start > now ?  \"Следующая пара\" : \"Сейчас идёт\"\r\n    //       return { sched, text }\r\n    //     }\r\n    //     return null\r\n    //   }\r\n    //   if(!this.settings.isExam){\r\n    //     return get()\r\n    //   } else {\r\n    //     return null\r\n    //   }\r\n    // }\r\n    // get analizationSchedule(){\r\n    //   let day = null\r\n    //   let i = 1;\r\n    //   let first\r\n    //   if(this.schedule){\r\n    //     while(!day){\r\n    //       let date = getDate(new Date(), i)\r\n    //       day = this.schedule.data.filter(item => item.date == date.mini)[0]?.schedule || null \r\n    //       i++\r\n    //     }\r\n    //     first = day.shift()\r\n    //   }\r\n    //   return first || null\r\n    // }\r\n\r\n    constructor(){\r\n        makeObservable(this, {\r\n            activePanel: observable,\r\n            screenHistory: observable,\r\n            fetchedUser: observable,\r\n            appUser: observable,\r\n            popout: observable,\r\n            progress: observable,\r\n            detailed: observable,\r\n            schedule: observable,\r\n            error: observable,\r\n            modal: observable,\r\n            modalHistory: observable,\r\n            theme: observable,\r\n            // currentLesson: computed,\r\n            // analizationSchedule: computed,\r\n            settings: observable,\r\n            loadingAppStatus: observable,\r\n            coords: observable,\r\n\r\n            setCoords: action,\r\n            updateLoadingAppStatus: action,\r\n            setActivePanel: action,\r\n            updateScreenHistory: action,\r\n            setVkUser: action,\r\n            setAppUser: action,\r\n            setPopout: action,\r\n            setProgress: action,\r\n            setDetailed: action,\r\n            getSchedule: action,\r\n            setError: action,\r\n            setModal: action,\r\n            setModalHistory: action,\r\n            setActiveModal: action,\r\n            setTheme: action,\r\n            setSettings: action\r\n        })\r\n    }\r\n    setActivePanel = value => this.activePanel = value\r\n    setVkUser = user => this.fetchedUser = user\r\n    setAppUser = user => {\r\n        this.appUser = {\r\n            ...this.appUser,\r\n            ...user\r\n        }\r\n    }\r\n    setCoords = (coords) => this.coords = {...this.coords, ...coords}  \r\n    updateLoadingAppStatus = status => this.loadingAppStatus = {...this.loadingAppStatus, ...status}\r\n    updateScreenHistory = history => this.screenHistory = history\r\n    setSettings = settings => this.settings = settings\r\n    setPopout = popout => this.popout = popout\r\n    setProgress = progress => this.progress = progress\r\n    setDetailed = detailed => this.detailed = detailed\r\n    getSchedule = async () => {\r\n      return await axios.get(`${serverURL}/getSchedule`, {params: {group: this.appUser.group}})\r\n        .then(res => {\r\n          if(res.data.err){\r\n            return {...res.data, text: \"Не удалось загрузить расписание\"}\r\n          }\r\n          if(!res.data){\r\n            return {err: 1, text: 'Сервер не вернул данные'}\r\n          }\r\n          this.schedule = res.data.res.data\r\n        })\r\n    }\r\n    initApp = async (id) => {\r\n      return await axios.get(`${serverURL}/init`, {params: {id: id}})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(!res.data.err){\r\n\t\t\t\t\tif(res.data.user){\r\n\t\t\t\t\t\tthis.setAppUser({group: res.data.user.group, num: res.data.user.num, status: `группы ${res.data.user.group}`})\r\n\t\t\t\t\t\tthis.setSettings(res.data.settings)\r\n            this.schedule = {data: res.data.schedule ? res.data.schedule.data : null, updated: res.data.schedule ? res.data.schedule.updated: null }\r\n            this.updateLoadingAppStatus({code: 1, text: [`С возвращением, ${this.fetchedUser.first_name}!`]})\r\n\t\t\t\t\t}else{\r\n            this.updateLoadingAppStatus({code: 0, text: [`Привет, ${this.fetchedUser.first_name}!`, `Ты впервые здесь? Расскажи о себе`]})\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n          this.updateLoadingAppStatus({code: 2, text: ['Возникла проблема при старте приложения :(']})\r\n\t\t\t\t}\r\n\t\t\t})\r\n      .then(() => this.setPopout(null))\r\n    }\r\n    setError = error => this.error = error\r\n    setModal = modal => this.modal = modal\r\n    setModalHistory = history => this.history = history\r\n    setActiveModal = activeModal => {\r\n\t\tactiveModal = activeModal || null;\r\n\t\tlet history = this.modalHistory ? [...this.modalHistory] : [];\r\n\t\r\n\t\tif (activeModal === null) {\r\n\t\t  history = [];\r\n\t\t} else if (history.indexOf(activeModal) !== -1) {\r\n\t\t  history = history.splice(0, history.indexOf(activeModal) + 1);\r\n\t\t} else {\r\n\t\t  history.push(activeModal);\r\n\t\t}\r\n\t\r\n\t\tthis.setModal(activeModal)\r\n\t\tthis.setModalHistory(history)\r\n    }\r\n    setTheme = theme => this.theme = theme\r\n    \r\n\r\n\r\n}\r\n\r\nexport default new MainStore()","import React from 'react'\r\nimport './cardinfo.css'\r\n\r\nexport default function CardInfo({ theme, title, subtitle, content }) {\r\n    return (\r\n        <div className={`card-info ${theme}`}>\r\n           <div className=\"card-info__title\">{title}</div>\r\n           {subtitle ? <div className=\"card-info__subtitle\">{subtitle}</div> : ''}\r\n           \r\n           <div className=\"card-info__content\">{content}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, Header, Avatar  } from '@vkontakte/vkui'\r\nimport { Icon28FireCircleFillRed } from '@vkontakte/icons';\r\nimport { Icon16ClockOurline, Icon20Users, Icon20EducationOutline, Icon20NewsfeedOutline, Icon24Settings, Icon20ServicesOutline } from '@vkontakte/icons'\r\nimport NextLessons from '../components/NextLessons'\r\nimport CardInfo from '../components/CardInfo'\r\nimport { timeToDate, timeFormat } from '../utils/functions'\r\n\r\nimport './home.css'\r\nimport { inject, observer } from 'mobx-react';\r\n\r\n\r\n\r\nconst Home = inject('store')(observer(({ id, go, fetchedUser, appUser, store }) => {\r\n\tconst [ timerValue, updateTimerValue ] = useState(timeToDate(new Date('2021-09-01 00:00:00')).s)\r\n\tconst timerHTML = <div>{timeFormat('dd дн. hh:mm:ss', timerValue)}</div> \r\n\tconst next_para = <div>Нет пар</div>\r\n\tuseEffect(() => {\r\n\t\tconst interval = setInterval(() => {\r\n\t\t\tif(timerValue == 0){\r\n\t\t\t\tclearInterval(interval)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tupdateTimerValue(timerValue - 1)\r\n\t\t}, 1000)\r\n\t\treturn () => {\r\n\t\t\tclearInterval(interval)\r\n\t\t}\r\n\t}, [timerValue])\r\n\treturn (\r\n\t<Panel id={id} style={{background: '#323C46'}}>\r\n\t\t<div className=\"head-block\">\r\n\t\t\t<Avatar src={store.fetchedUser.photo_100} size={100}/>\r\n\t\t\t<div className=\"user-info\">\r\n\t\t\t\t<div>{store.fetchedUser.first_name}</div>\r\n\t\t\t\t<div className=\"user-status\">\r\n\t\t\t\t\t<span className=\"user-status__value\">красавчик</span>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<span className=\"user-status__average\">Ср. балл: 5.47</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t{\r\n\t\t\tstore.currentLesson && (<Header mode=\"secondary\">{store.currentLesson && store.currentLesson.text}</Header>)\r\n\t\t}\r\n\t\t{\r\n\t\t\t// store.currentLesson && (store.currentLesson.sched.map(item => <Alesha subject={item} status='future' skeleton={!store.schedule} home/>))\r\n\t\t}\r\n\t\t{\r\n\t\t\t//!store.currentLesson && store.analizationSchedule && <NextLessons data={store.analizationSchedule}/>\r\n\t\t}\r\n\t\t\r\n\t\t<div style={{margin: \"10px 15px\"}}>\r\n\t\t\t<CardInfo theme={store.theme} title=\"До конца лета\" content={timerHTML}/>\r\n\t\t\t{/* <CardInfo theme={store.theme} title=\"Следующая пара\" content={next_para}/> */}\r\n\t\t</div>\r\n\t</Panel>\r\n)}\r\n\t\t))\r\nexport default Home;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { platform, IOS, Group, Header, ActionSheet, ScreenSpinner, ActionSheetItem, Text, Panel, PanelHeader, PanelHeaderButton} from '@vkontakte/vkui';\r\nimport { Icon44SmileOutline } from '@vkontakte/icons';\r\nimport { getDate, prepareDate, getWeek, getTime } from '../utils/functions'\r\nimport { inject, observer } from 'mobx-react'\r\nimport HorizontalCalendar from 'vkui-horizontal-calendar'\r\n\r\nimport './Schedule.css';\r\n\r\nconst osName = platform();\r\n\r\n\r\nconst Schedule = inject(\"store\")(observer(({ store, setPopout, id, go }) => {\r\n\tconst [selectedDate, setSelectedDate] = useState(getDate);\r\n\tconst [selectedSchedule, setSelectedSchedule] = useState(null)\r\n\tconst { schedule, getSchedule } = store\r\n\tconst [scheduleReady, setScheduleReady] = useState(false)\r\n\r\n\t\r\n\t// var weeks = 0;\r\n\t// const now = new Date()\r\n\t// const handler = type => {\r\n\t// \tif(type == \"next\"){\r\n\t// \t\tsetPopout(null)\r\n\t// \t\topenSelector()\r\n\t// \t\tweeks+=1\r\n\t// \t} else {\r\n\t// \t\tsetSelectedDate(type)\r\n\t// \t}\r\n\t// }\r\n\t// useEffect(() => {\r\n\t// \tif(selectedDate.day.getDay() == 0){\r\n\t// \t\tsetSelectedDate(getDate(new Date(), 1))\r\n\t// \t}\r\n\t// }, [])\r\n\t// Date.prototype.getWeek = function() {\r\n    //     var onejan = new Date(this.getFullYear(), 0, 1);\r\n\t// \tif(this.getDay() == 6){\r\n\t// \t\treturn Math.ceil((((this - onejan - 24*60*60*1000) / 86400000) + onejan.getDay() + 1) / 7);\r\n\t// \t}\r\n    //     return Math.ceil((((this - onejan) / 86400000) + onejan.getDay() + 1) / 7);\r\n    // }\r\n\t// const openSelector = () => {\r\n\t// \tconst popout = (<ActionSheet \r\n    //     onClose={setPopout.bind(this, null)}\r\n    //     iosCloseItem={<ActionSheetItem autoclose mode=\"cancel\">Отменить</ActionSheetItem>}\r\n    //   >\r\n\t\r\n\t// {\r\n\t// \t\tgetWeek(new Date(now.getTime()+weeks*7*24*60*60*1000)).map((i,index) => {\r\n\t// \t\tvar {day, text, mini} = getDate(i);\r\n\t// \t\tif(!day.getDay()){\r\n\t// \t\t\treturn \r\n\t// \t\t}\r\n\t\t\t\r\n\t// \t\treturn (\r\n\t// \t\t<ActionSheetItem autoclose onClick={handler.bind(this, {text, day, mini})} subtitle=\"Авто\" mode={day.getDate() == selectedDate.day.getDate() ? 'cancel' : 'default'}>\r\n    //     \t{day.getDate() == new Date(now.getTime()+24*60*60*1000).getDate() ? \"завтра\" : day.getDate() == now.getDate() ?  \"сегодня\" : text}\r\n    //     </ActionSheetItem>)\r\n\t// \t})}\r\n\t// \t{(weeks < 2 && <ActionSheetItem autoclose onClick={handler.bind(this, \"next\")} subtitle=\"Авто\">\r\n    //     \tДругие даты\r\n    //     </ActionSheetItem>)}\r\n    //   </ActionSheet>)\r\n\t// \tsetPopout(popout)\r\n\t// \tweeks+=1\r\n\t// }\r\n\t// useEffect(() => {\r\n\t// \tif(schedule && !store.settings.isExam){\r\n\t// \t\tsetSelectedSchedule(schedule.data.filter(item => item.date == selectedDate.mini)[0]?.schedule || null)\r\n\t// \t}\r\n\t// },[schedule, selectedDate])\r\n\r\n\r\n\t// if(!scheduleReady && (schedule.hasOwnProperty('data') && !schedule.data) || !schedule){\r\n\t// \tgetSchedule()\r\n\t// \tsetPopout(<ScreenSpinner size='large' />)\r\n\t// \tsetScheduleReady(true)\r\n\t// \treturn (<div>Гружу</div>)\r\n\t// } else {\r\n\t// \tif(store.settings.isExam){\r\n\t// \t\treturn (<Panel id={id}>\r\n\t// \t\t\t<PanelHeader\r\n\t// \t\t\t\tleft={<PanelHeaderButton onClick={() => window.history.back()}>\r\n\t// \t\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t// \t\t\t\t</PanelHeaderButton>}\r\n\t// \t\t\t>\r\n\t// \t\t\t\tРасписание. Сессия\r\n\t// \t\t\t</PanelHeader>\r\n\t// \t\t\t<Group header={schedule ? <Header mode=\"secondary\">Расписание загружено {prepareDate(schedule.updated)}</Header> : null}></Group>\r\n\t// \t\t\t{schedule && schedule.hasOwnProperty('data') && schedule.data.data.map(subject => {\r\n\t// \t\t\t\tconst status = (now.getDate() == selectedDate.day.getDate()) && (getTime(now) >= subject.start) && (getTime(now) <= subject.end) ? 'active' : (now.getDate() == selectedDate.day.getDate()) && (getTime(now) >= subject.end) ? \"last\" :  now.getTime() > selectedDate.day.getTime() ? \"last\" : \"future\"\r\n\t// \t\t\t\treturn (\r\n\t// \t\t\t\t\t<Group header={schedule ? <Header mode=\"secondary\">{subject.date}</Header> : null}>\r\n\t// \t\t\t\t\t\t<Alesha subject={subject.schedule[0]} selectedDate={selectedDate} status={status} exam={store.settings.isExam}/>\r\n\t// \t\t\t\t\t</Group>)\r\n\t// \t\t\t})}\r\n\t// \t\t\t{(!schedule || !schedule.hasOwnProperty('data')) && (\r\n\t// \t\t\t<Group style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\r\n\t// \t\t\t\t<Icon44SmileOutline \twidth={100} height={100} style={{color: '#aaa'}}/>\r\n\t// \t\t\t\t<Text weight=\"medium\" style={{fontSize: '18px', color: \"#aaa\", textTransform: 'uppercase', marginTop: \"10px\"}}>Расписания нет :(</Text>\r\n\t// \t\t\t</Group>\r\n\t// \t\t  )}\r\n\t// \t\t\t</Panel>)\r\n\t// \t} else {\r\n\t// \t\treturn (<Panel id={id}>\r\n\t// \t\t\t<PanelHeader\r\n\t// \t\t\t\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\r\n\t// \t\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t// \t\t\t\t</PanelHeaderButton>}\r\n\t// \t\t\t>\r\n\t// \t\t\t\tРасписание\r\n\t// \t\t\t</PanelHeader>\r\n\t// \t\t\t<div className=\"selected_date\">{selectedDate.text}. {selectedDate.day.getDay() ? `${selectedDate.day.getWeek() % 2 ? \"Чётная\" : \"Нечётная\"} неделя` : ''}</div>\r\n\t// \t\t\t<div className=\"changewrap\">\r\n\t// \t\t\t\t<button onClick={openSelector} className={`changedate ${mainStore.theme}`}>Выбрать другую дату</button>\r\n\t// \t\t\t</div>\r\n\t// \t\t\t<Group header={schedule ? <Header mode=\"secondary\">Расписание загружено {prepareDate(schedule.updated)}</Header> : null}>\r\n\t// \t\t\t{selectedSchedule && selectedSchedule.map(subject => {\r\n\t// \t\t\t\tconst status = (now.getDate() == selectedDate.day.getDate()) && (getTime(now) >= subject.start) && (getTime(now) <= subject.end) ? 'active' : (now.getDate() == selectedDate.day.getDate()) && (getTime(now) >= subject.end) ? \"last\" :  now.getTime() > selectedDate.day.getTime() ? \"last\" : \"future\"\r\n\t// \t\t\t\treturn (<Alesha subject={subject} selectedDate={selectedDate} status={status}/>)\r\n\t// \t\t\t})}\r\n\t// \t\t  {!selectedSchedule && (\r\n\t// \t\t\t<Group style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\r\n\t// \t\t\t\t<Icon44SmileOutline \twidth={100} height={100} style={{color: '#aaa'}}/>\r\n\t// \t\t\t\t<Text weight=\"medium\" style={{fontSize: '18px', color: \"#aaa\", textTransform: 'uppercase', marginTop: \"10px\"}}>Расписания на этот день нет</Text>\r\n\t// \t\t\t</Group>\r\n\t// \t\t  )}\r\n\t\t\t\t\r\n\t\t\r\n\t// \t\t\t</Group>\r\n\t// \t\t</Panel>)\r\n\t// \t}\r\n\t// }\r\n\treturn (<Panel id={id}>\r\n\t\t\t{/* <HorizontalCalendar choosed={1} mondayFirst={true} date={new Date()}/> */}\r\n\t\t\t\t<div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', marginTop: '20px'}}>\r\n\t \t\t\t\t<Icon44SmileOutline \twidth={100} height={100} style={{color: '#aaa'}}/>\r\n\t \t\t\t\t<Text weight=\"medium\" style={{fontSize: '18px', color: \"#aaa\", textTransform: 'uppercase', marginTop: \"10px\"}}>Расписания на этот день нет</Text>\r\n\t \t\t\t</div>\r\n\t\t\t</Panel>)\r\n}))\r\n\r\n\r\n\r\nexport default Schedule;\r\n","import React, { useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, SimpleCell, Group, Header, Panel, PanelHeader, PanelHeaderButton } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport { Icon28Users3Outline } from '@vkontakte/icons';\r\nimport { Icon20EducationOutline } from '@vkontakte/icons';\r\nimport { Icon28PaletteOutline } from '@vkontakte/icons';\r\nimport { MODAL_CHANGE_GROUP, MODAL_CHANGE_NUM, MODAL_CHANGE_SCHED_THEME } from '../utils/modals'\r\nimport { observer, inject } from 'mobx-react'\r\n\r\nconst osName = platform();\r\n\r\nconst Settings = inject('store')(observer(({ appUser, id, go, setModal, snackbar, store, storyChange }) => {\r\n\tconst [joke, setJoke] = useState()\r\n\tconst admins = [503012833]\r\n\tconst jokes = [\r\n\t\t'Единороги на фоне', \r\n\t\t'Закрытие долгов',\r\n\t\t'Доставка из буфета',\r\n\t\t'Хорошое настроение😜',\r\n\t\t'Отмена первых пар',\r\n\t\t'Отмена масочного режима',\r\n\t\t'Наступление лета', \r\n\t\t\"Отключение сессии\", \r\n\t\t\"Возврат стипендии\"\r\n\t]\r\n\tuseEffect(() => {\r\n\t\tconst joke = jokes[randomInteger(0,jokes.length-1)]\r\n\t\tconst perc = randomInteger(53, 87)\r\n\t\tsetJoke([joke, perc])\r\n\t}, [])\r\n\tfunction randomInteger(min, max) {\r\n\t\t// случайное число от min до (max+1)\r\n\t\tlet rand = min + Math.random() * (max + 1 - min);\r\n\t\treturn Math.floor(rand);\r\n\t  }\r\n\treturn (<Panel id={id}>\r\n\t\t\r\n        <Group header={<Header mode=\"primary\">Основные</Header>}>\r\n\t<SimpleCell before={<Icon28Users3Outline width={28} />} indicator={appUser.group} onClick={() => setModal(MODAL_CHANGE_GROUP)}>\r\n\t\tНомер группы\r\n\t</SimpleCell>\r\n\t<SimpleCell before={<Icon20EducationOutline width={28} />} indicator={appUser.num} onClick={() => setModal(MODAL_CHANGE_NUM)}>\r\n\t\tНомер зачётки\r\n\t</SimpleCell>\r\n    </Group>\r\n\t<Group header={<Header mode=\"primary\">В разработке</Header>}>\r\n\t\t<SimpleCell before={<Icon28PaletteOutline width={28}/>} indicator={joke && joke[1] + '%'} disabled>\r\n\t\t\t{joke && joke[0]}\r\n\t\t</SimpleCell>\r\n\t\t\r\n\t\t{(admins.indexOf(store.fetchedUser.id) != -1) && <SimpleCell onClick={go} data-to=\"adminMenu\" before={<Icon28PaletteOutline width={28}/>}>\r\n\t\t\tАдминка\r\n\t\t</SimpleCell>}\r\n\t\t\r\n\t</Group>\r\n\t{snackbar}\r\n\t</Panel>)\r\n}))\r\n\r\n\r\nexport default Settings;\r\n","import React, { useEffect, useState } from 'react'\r\nimport './ownprogresscard.css'\r\n\r\nexport default function OwnProgressCard({ data, theme }) {\r\n    const [ attWidth, setAttWidth ] = useState(0)\r\n    const [ resWidth, setResWidth ] = useState(0)\r\n    useEffect(() => {\r\n        setAttWidth(0)\r\n        setResWidth(0)\r\n        const aw = new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                document.querySelectorAll('.range-line').forEach(el => el.classList.add('animated'))\r\n                resolve(setAttWidth(data.a))\r\n            }, 500)\r\n        })\r\n        const rw = new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                setResWidth(data.t ? data.t - data.a : 0)\r\n                resolve()\r\n            }, 1500)\r\n        })\r\n        Promise.all([aw, rw]).then(setTimeout(animationCallback, 3000))\r\n        \r\n    }, [data])\r\n    const animationCallback = () => document.querySelectorAll('.range-line').forEach(el => el.classList.remove('animated'))\r\n    let t = \"customcard \"\r\n    let d = \"\"\r\n    let points = 0\r\n    let clt = 'empty'\r\n    switch(data.km){\r\n        case 0:\r\n            d = \"Аттестация 1\"\r\n            clt = 'empty'\r\n            break;\r\n        case 1:\r\n            d = \"зачёт\"\r\n            clt = 'za4'\r\n            break;\r\n        case 2:\r\n            d = \"дифф. зачёт\"\r\n            clt='diff'\r\n            break;\r\n        case 3:\r\n            d = \"экзамен\"\r\n            clt = 'exam'\r\n            break;\r\n        case 4:\r\n            d = \"курс. раб\"\r\n            clt = 'kurs'\r\n            break;\r\n        default:\r\n            d = \"сообщите разработчику\"\r\n            clt = 'empty'\r\n            break;\r\n    }\r\n    if(data.t){\r\n        if(data.km == 1){\r\n            if(data.t >= 40){\r\n                t += \"za4et\"\r\n            } else {\r\n                t += \"fail\"\r\n            }\r\n            points = data.t\r\n        } \r\n        else if(data.km == 0){\r\n            d = \"Аттестация 1\"\r\n            t += \"empty\"\r\n            points = data.a\r\n        }\r\n        else if(data.km == -2){\r\n            if(data.m){\r\n                d = \"не определено\"\r\n                if(/зач[её]т/gmi.test(data.m)){\r\n                    t += \"za4et\"\r\n                    points = 'зач'\r\n                } else {\r\n                    if(/отлично/gmi.test(data.m)){\r\n                        t += \"fine\"\r\n                        points = 'отл'\r\n                    } else if(/хорошо/gmi.test(data.m)){\r\n                        t += \"good\"\r\n                        points = 'хор'\r\n                    } else if(/удовлетворительно/gmi.test(data.m)){\r\n                        t += \"bad\"\r\n                        points = 'удв' \r\n                    } else {\r\n                        if(data.km == -1){\r\n                            t += \"empty\"\r\n                            points = '❓'\r\n                        } else {\r\n                            t += \"fail\"\r\n                            points = '🙁'\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                t += 'empty'\r\n                points = '❓'\r\n            }\r\n        }else {\r\n            if(data.t > 80){\r\n                t += \"fine\"\r\n            } else if(data.t > 60){\r\n                t += \"good\"\r\n            } else if(data.t > 39){\r\n                t += \"bad\" \r\n            } else {\r\n                t += \"fail\"\r\n            }\r\n            points = data.t\r\n        }\r\n    }else{\r\n        if(data.km == 1){\r\n            if(/зач[её]т/gmi.test(data.m)){\r\n                t += \"za4et\"\r\n                points = 'зач'\r\n            } else {\r\n                t += \"fail\"\r\n                points = '🙁'\r\n            }\r\n        }\r\n        else if(data.km == 0){\r\n            d = \"Аттестация 1\"\r\n            t += \"empty\"\r\n            points = data.a\r\n        }\r\n        else if(data.km == 2){\r\n                if(/зач[её]т/gmi.test(data.m)){\r\n                    t += \"za4et\"\r\n                } else {\r\n                    if(/отлично/gmi.test(data.m)){\r\n                        t += \"fine\"\r\n                        points = 'отл'\r\n                    } else if(/хорошо/gmi.test(data.m)){\r\n                        t += \"good\"\r\n                        points = 'хор'\r\n                    } else if(/удовлетворительно/gmi.test(data.m)){\r\n                        t += \"bad\" \r\n                        points = 'удв'\r\n                    } else {\r\n                        if(data.km == -1){\r\n                            t += \"empty\"\r\n                            points = '❓'\r\n                        } else {\r\n                            t += \"fail\"\r\n                            points = '🙁'\r\n                        }\r\n                    }\r\n                }\r\n        } else {\r\n            if(/отлично/gmi.test(data.m)){\r\n                t += \"fine\"\r\n                points = 'отл'\r\n            } else if(/хорошо/gmi.test(data.m)){\r\n                t += \"good\"\r\n                points = 'хор'\r\n            } else if(/удовлетворительно/gmi.test(data.m)){\r\n                t += \"bad\" \r\n                points = 'удв'\r\n            } else {\r\n                t += \"fail\"\r\n                points = '🙁'\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div class={`bar ${clt} ${theme}`}>\r\n            <div class=\"type\">\r\n                {d}\r\n            </div>\r\n            <div class=\"range-wrap\">\r\n                <div class=\"range\">\r\n                    {(data.a != data.t) && data.a && <div class={`range-line att ${t}`} style={{width: `${attWidth}%`}}></div>}\r\n                    <div class={`range-line ${t}`} style={data.km == 0 ? {width: `${attWidth / 30 * 100}%`} : {width: `${resWidth}%`}}>\r\n\r\n                    </div>\r\n                    {(data.km == 1) && <div class=\"range-ranks\">\r\n                        <div class=\"range-40\"></div>    \r\n                    </div>}\r\n                    {(data.km == 0) && <div class=\"range-ranks\">\r\n                        <div class=\"range-20\"></div>    \r\n                    </div>}\r\n                    {(data.km > 1) && <div class=\"range-ranks\">\r\n                        <div class=\"range-41\"></div>\r\n                        <div class=\"range-60\"></div> \r\n                        <div class=\"range-80\"></div>     \r\n                    </div>}\r\n                </div>\r\n                <div class=\"range-text\">\r\n                    <div>{data.name.length > 50 ? data.name.slice(0,50)+\"...\" : data.name}</div>\r\n                </div>\r\n                <div class=\"status\"><span class={data.km ? 'status-att' : ''}>{data.a}</span>{points}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","const axios = require(\"axios\");\r\nconst parser = require(\"xml-js\");\r\n\r\nfunction getProgress(alaffair){\r\n    return axios\r\n    .get(\r\n      `https://lk.tsu.tula.ru:3443/lk/android/AndroidProgress.php?alaffair=${alaffair}`\r\n    )\r\n    .then((res) => {\r\n      if (res.status == 200) {\r\n        return parser.xml2js(res.data, {\r\n          compact: true,\r\n          textFn: (value, parent) => {\r\n            return value.replace(/^\\!\\[CDATA\\[/, \"\").replace(/]]/, \"\");\r\n          },\r\n        }).Progress.ProgressItem;\r\n      }\r\n    })\r\n    .then((data) =>\r\n      data.map((item) => {\r\n        item.name = item.DISCIPL._text;\r\n        item.term = item.TERM._text;\r\n        item.rate = item.RATING._text;\r\n        item.km = item.KM._text;\r\n        delete item.DISCIPL;\r\n        delete item.TERM;\r\n        delete item.KM;\r\n        delete item.RATING;\r\n        delete item.CODE_MARK;\r\n        return item;\r\n      })\r\n    )\r\n    .then((data) => {\r\n      const result = [];\r\n      for (let i = 1; i < 13; i++) {\r\n        let filter = data.filter((item) => item.term == i);\r\n        if (!filter.length) break;\r\n        let subjects = Array.from(new Set(filter.map((z) => z.name)));\r\n        let res = subjects.map((item) => {\r\n          return { name: item };\r\n        });\r\n        filter.map((subj) => {\r\n          let index = res.findIndex((c) => c.name == subj.name);\r\n          if (subj.km == \"атт1\") {\r\n            res[index] = { ...res[index], att1: subj.rate, total: subj.rate, km: 0};\r\n          } else {\r\n            let id_km = ['','ЗЧ', 'ДЗ', 'КР', 'Э']\r\n            res[index] = { ...res[index], total: subj.rate, km: id_km.indexOf(subj.km.toUpperCase()) };\r\n          }\r\n        });\r\n        res.sort((a,b) => b.km-a.km)\r\n        result[i - 1] = res;\r\n      }\r\n      return result;\r\n    })\r\n  \r\n}\r\n\r\nexport { getProgress }","import React, { useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform,  Group, ScreenSpinner, Panel, SubnavigationBar, SubnavigationButton } from '@vkontakte/vkui';\r\nimport { Icon16ClockOurline } from '@vkontakte/icons';\r\nimport OwnProgressCard from '../components/OwnProgressCard'\r\n\r\nimport { getProgress } from '../utils/ProgressParser'\r\nimport { prepareDate } from '../utils/functions'\r\nimport { observer, inject } from 'mobx-react';\r\n\r\nimport './Progress.css';\r\n\r\nimport axios from 'axios'\r\n\r\nconst osName = platform();\r\n\r\n\r\n\r\n\r\nconst Progress = inject('store')(observer(({ setPopout, store, id, appUser, progress, setProgress, createError }) => {\r\n\tconst [ activeTerm, setActiveTerm ] = useState(null)\r\n\tconst [ selectedTerm, setSelectTerm ] = useState(0)\r\n\tconst getProgress = () => {\r\n\t\t\r\n\t\ttry{\r\n\t\taxios.get(`https://tsu-helper-server.herokuapp.com/getProgress?num=${appUser.num}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(!res.data.err){\r\n\t\t\t\t\tsetProgress(res.data)\r\n\t\t\t\t\tsetSelectTerm(res.data.res.length - 1)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcreateError({type: 1, descr: res.data.text || \"Сервер не вернул данные\", name: \"Ошибка запроса\", code: res.data, back: 'home'})\r\n\t\t\t\t\tsetPopout(null)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\tcreateError({type: 2, descr: \"Что-то пошло не так\", name: \"Ошибка запроса\", code: e, back: 'home'})\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t} )\r\n\t\t}catch(e){\r\n\t\t\tcreateError({type: 2, descr: \"Сервер вернул ошибку\", name: \"Ошибка запроса\", code: e, back: 'home'})\r\n\t\t\tsetPopout(null)\r\n\t\t}\r\n\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif(!progress){\r\n\t\t\tsetPopout(<ScreenSpinner size='large' />)\r\n\t\t\tgetProgress()\r\n\t\t} else {\r\n\t\t\tsetPopout(null)\r\n\t\t}\r\n\t},[progress])\r\n\t\r\n\treturn (\r\n\t<Panel id={id}>\r\n\t\t<div style={{margin: '20px 10px'}}>\r\n\t\t\t{ progress && \r\n\t\t\t<div style={{display: 'flex'}}>\r\n\t\t\t\t<Icon16ClockOurline style={{alignSelf: 'center'}}/>\r\n\t\t\t\t<div className=\"updated\">Обновлено {prepareDate(progress.cacheTime)}</div>\r\n\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<Group>\r\n          <SubnavigationBar>\r\n\t\t\t{progress && progress.res.map((i,index) => (\r\n\t\t\t\t<SubnavigationButton\r\n\t\t\t\tselected={selectedTerm == index}\r\n\t\t\t\tonClick={() => setSelectTerm(index)}\r\n\t\t\t  >\r\n\t\t\t\tСеместр {index+1}\r\n\t\t\t  </SubnavigationButton>\r\n\t\t\t))}\r\n          </SubnavigationBar>\r\n        </Group>\r\n\t\t{/* {progress && JSON.stringify(progress.res[selectedTerm])} */}\r\n\t\t{progress && progress.res[selectedTerm].map((i) => <OwnProgressCard  theme={store.theme} data={i} />)}\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n\t</Panel>\r\n)\r\n\t\t}))\r\n\r\nexport default Progress;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, PanelHeader, IOS, Input, Group, FormLayout, Button, Panel, ScreenSpinner, FormItem } from '@vkontakte/vkui';\r\nimport { useState } from 'react'\r\nimport axios from 'axios';\r\n\r\nconst osName = platform();\r\n\r\n\r\nconst Start = props => {\r\n    const [form, setForm] = useState({num: '', aff: ''});\r\n    const [validAff, setValidAff] = useState(false)\r\n    const [validNum, setValidNum] = useState(false)\r\n    const register = () => {\r\n        props.setPopout(<ScreenSpinner size='large' />)\r\n        axios.get(`https://tsu-helper-server.herokuapp.com/newUser`, {params: { num: form.aff, group: form.num, id: props.vku.id}}).then((res) => {\r\n            props.setPopout(null)\r\n            if(res.data.err){\r\n                props.createError({type: 1, descr: res.data.text, name: \"Регистрация\", code: res.data, back: 'start'})\r\n                // props.setActivePanel('error')\r\n            }else{\r\n                props.setActivePanel('home')\r\n                props.setAppUser({group: form.num, num: form.aff, status: `группы ${res.data.user.group}`})\r\n            }\r\n        }).then(\r\n            props.initApp(props.vku.id)\r\n        )\r\n        .catch(e => {\r\n            props.setPopout(null)\r\n        })\r\n    }\r\n    const onChange =  (e) => {\r\n        const { name, value } = e.currentTarget;\r\n        switch(name){\r\n            case 'num':\r\n                if(/[1-9]\\d{5}/g.test(value)){\r\n                    setForm({...form, num: value})\r\n                    setValidNum(true)\r\n                } else {\r\n                    setValidNum(false)\r\n                }\r\n                break;\r\n            case 'aff':\r\n                if(/((1[3-9])|(2[0-5]))\\d{4}$/g.test(value)){\r\n                    setForm({...form, aff: value})\r\n                    setValidAff(true)\r\n                } else {\r\n                    setValidAff(false)\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\treturn (<Panel id={props.id}>\r\n    <PanelHeader>Знакомство</PanelHeader>\r\n        <Group>\r\n        <FormLayout>\r\n            <FormItem\r\n                top=\"Номер группы\" \r\n                status={validNum ? 'valid' : 'error'}\r\n                bottom={validNum ? 'Мне нравится твоя группа' : 'Некорректный номер группы'}>\r\n                <Input\r\n                    type=\"text\"\r\n                    name=\"num\"\r\n                    onChange={onChange}\r\n                />\r\n            </FormItem>\r\n            <FormItem\r\n                top=\"Номер зачётки\" \r\n                status={validAff ? 'valid' : 'error'}\r\n                bottom={validAff ? 'Полагаю, лучшая зачётка!' : 'Некорректный номер зачётки'}>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"aff\"\r\n                onChange={onChange}\r\n              />\r\n            </FormItem>\r\n              \r\n              {validAff && validNum && <FormItem>\r\n                <Button size='m' onClick={register} stretched>Войти</Button>\r\n                  </FormItem>}\r\n        </FormLayout>\r\n    </Group>\r\n    </Panel>);\r\n}\r\n\r\nexport default Start;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, InfoRow, Cell, Group, Header,Panel, PanelHeader, PanelHeaderButton } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\n\r\nconst osName = platform();\r\n\r\nconst getKM = id => {\r\n\tswitch(id){\r\n\t\tcase 0:\r\n\t\t\treturn \"Не определено\"\r\n\t\tcase 1:\r\n\t\t\treturn \"Зачёт\"\r\n\t\tcase 2: \r\n\t\t\treturn \"Дифференцированный зачёт\"\r\n\t\tcase 3:\r\n\t\t\treturn \"Экзамен\"\r\n\t\tcase 4:\r\n\t\t\treturn \"Курсовая работа\"\r\n\t\tdefault:\r\n\t\t\treturn \"Ошибка. Сообщите разработчику\"\r\n\t}\r\n}\r\n\r\nconst DetailedProgress = ({ id, go, data }) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={() => window.history.back()}>\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tКурс {Math.floor(data.term/2)+1}. Семестр {data.term+1}\r\n\t\t</PanelHeader>\r\n\t\t<Group>\r\n\t\t<Header mode=\"primary\">{data.name}</Header>\r\n\t\t\t<Cell>\r\n\t\t\t\t<InfoRow header=\"Тип\">{getKM(data.km)}</InfoRow>\r\n\t\t\t</Cell>\r\n\t\t\t<Cell>\r\n\t\t\t\t<InfoRow header=\"Первая аттестация\">{data.a || \"Нет информации\"}</InfoRow>\r\n\t\t\t</Cell>\r\n\t\t\t<Cell>\r\n\t\t\t\t<InfoRow header=\"Итоговый балл\">{data.t || \"Нет информации\"}</InfoRow>\r\n\t\t\t</Cell>\r\n\t\t\t<Cell>\r\n\t\t\t\t<InfoRow header=\"Отметка\">{data.m}</InfoRow>\r\n\t\t\t</Cell>\r\n\t\t</Group>\r\n\t</Panel>\r\n);\r\n\r\nDetailedProgress.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default DetailedProgress;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, Panel, PanelHeader, PanelHeaderButton } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport stick1 from '../img/0_0.png';\r\nimport stick2 from '../img/0_1.png';\r\nimport stick3 from '../img/0_2.png';\r\nimport stick4 from '../img/1_0.png';\r\nimport stick5 from '../img/1_1.png';\r\nimport stick6 from '../img/1_2.png';\r\nimport stick7 from '../img/1_3.png';\r\nimport stick8 from '../img/1_4.png';\r\nimport stick9 from '../img/2_0.png';\r\nimport './Error.css';\r\n\r\nconst osName = platform();\r\n\r\nconst stickers = [\r\n    [stick1, stick2, stick3],\r\n    [stick4, stick5, stick6, stick7, stick8],\r\n    [stick9]\r\n];\r\n\r\nfunction randomInteger(min, max) {\r\n    // получить случайное число от (min-0.5) до (max+0.5)\r\n    let rand = min - 0.5 + Math.random() * (max - min + 1);\r\n    return Math.round(rand);\r\n  }\r\n\r\nconst Error = props => {\r\n    console.log(props)\r\n    const sticker = stickers[props.err.type][randomInteger(0,stickers[props.err.type].length)]\r\n\tconst scheme = document.body.attributes.getNamedItem(\"scheme\").value\r\n\treturn (<Panel id={props.id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={() => window.history.back()}>\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t/>\r\n            <img src={sticker} style={{margin: '0 auto', width: '200px'}} />\r\n            <div className=\"err-header\">{props.err.type ? props.err.type == 1 ? props.err.name : \"Внезапная ошибка\" : \"Сервер уснул\"}</div>\r\n            <div className=\"err-descr\">{props.err.type ? props.err.descr : \"Мы скоро всё обязательно починим\"}</div>\r\n            <div className=\"err-descr-sub\">Пожалуйста, заскринь и сообщи <a href=\"http://vk.com/kekovinya\">Антону</a> о произошедшем</div>\r\n            {props.err.code && <div className=\"err-body\" style={{color: scheme == \"space_gray\" ? \"\" : \"white\"}}>{JSON.stringify(props.err.code)}</div>}\r\n\t</Panel>);\r\n    }\r\n\r\nexport default Error;\r\n","import React from 'react';\r\nimport { prepareDate } from '../utils/functions'\r\n\r\nimport './newscard.css';\r\n\r\n\r\nexport default function NewsCard({ text, photo, date }) {\r\n\tconst scheme = document.body.attributes.getNamedItem(\"scheme\").value\r\n    return (\r\n        <div className={`news-wraper ${scheme == 'space_gray' ? 'dark' : null}`}>\r\n            {photo ? <div className=\"image-wraper\">\r\n                 <img src={photo}></img>\r\n            </div>: null }\r\n            <div className=\"news-content\">\r\n                <div className=\"news-text\">{text}</div>\r\n                <div className=\"news-time\">{prepareDate(date)}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { platform, IOS, CardGrid, Panel, PanelHeader, PanelHeaderButton } from '@vkontakte/vkui';\r\nimport NewsCard from '../components/NewsCard'\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\n\r\n// const scheme = document.body.attributes.getNamedItem(\"scheme\").value\r\nconst osName = platform();\r\n\r\nconst News = ({ id, go }) => {\r\n    const [news, setNews] = useState(null)\r\n    useEffect(() => {\r\n        bridge.send(\"VKWebAppCallAPIMethod\", {\r\n            \t\t\"method\": \"wall.get\",\r\n            \t\t\"request_id\": \"1212\",\r\n            \t\t\"params\": {\r\n            \t\t\t\"owner_id\": -202317653,\r\n                        \"count\": 10,\r\n                        \"filter\": 'owner',\r\n            \t\t\t\"access_token\":\"2c47d1312c47d1312c47d131972c32608422c472c47d13173add6862d3b4b7516945aba\",\r\n            \t\t\t\"v\":\"5.130\"\r\n            \t\t}\r\n            \t})\r\n                .then(res => {\r\n                    if(res.response){\r\n                        setNews(res.response.items)\r\n                    }\r\n                })\r\n    }, []);\r\n\treturn (<Panel id={id}>\r\n        <CardGrid style={{marginTop: \"15px\"}}>\r\n            {news && news.map(item => {\r\n                const attachments = item.attachments ? item.attachments.pop() : null\r\n                const photo = attachments ? attachments.photo.sizes.pop().url : null\r\n                return (<NewsCard text={item.text} date={item.date*1000} photo={photo} />)\r\n            })}\r\n        </CardGrid>\r\n\t</Panel>);\r\n}\r\n\r\n\r\nexport default News;","import React, { useEffect, useState } from 'react';\r\nimport { Icon36CancelOutline } from '@vkontakte/icons';\r\nimport { Avatar, Panel } from '@vkontakte/vkui';\r\nimport { inject, observer } from 'mobx-react'\r\nimport './hello.css'\r\nimport mainStore from '../store/mainStore';\r\nimport stick7 from '../img/1_3.png';\r\nconst Hello =  inject(\"store\")(observer(({ id, store }) => {\r\n    const [loading, setRandom] = useState(true)\r\n    function randomInteger(min, max) {\r\n\t\t// случайное число от min до (max+1)\r\n\t\tlet rand = min + Math.random() * (max + 1 - min);\r\n\t\treturn Math.floor(rand);\r\n\t  }\r\n    const jokes = [\r\n        'Кормим наших голубей',\r\n        'Данные похители киберпираты. Отбиваем',\r\n        'Напрягаем администратора',\r\n        'Зачем вообще этот крестик?',\r\n        'Вычисляем расстояние до галактики Медуза',\r\n        'Бип-буп-бип',\r\n        'Регистрируем заявку на кредит',\r\n        'Заказываем симпл-димпл',\r\n        'Обучаемся постиронии',\r\n        'Включаем режим \"Прокрастинация\"... ОК.',\r\n        'Майним криптовалюту на вашем устройстве',\r\n        'Жарим яичницу на сервере',\r\n        '🥺👉🏻👈🏻',\r\n        'Доедаем сырок Б.Ю.Александрова',\r\n        'Инициируем закупку ацидолакта'\r\n\r\n    ]\r\n    useEffect(() => {\r\n        var interval\r\n        var copy_jokes = jokes.slice(0)\r\n        if(loading){\r\n            interval = setInterval(() => {\r\n                let id_joke = randomInteger(0,copy_jokes.length - 1)\r\n                let cjoke = copy_jokes[id_joke]\r\n                delete copy_jokes[id_joke]\r\n                copy_jokes = copy_jokes.filter(joke => joke)\r\n                if(copy_jokes.length < 3){\r\n                    copy_jokes = jokes.slice(0)\r\n                }\r\n                store.updateLoadingAppStatus({text: [cjoke]})\r\n            }, 3000)\r\n        }\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    }, [loading])\r\n  useEffect(() => {\r\n    var to\r\n    if(store.loadingAppStatus.code == 1){\r\n        setRandom(false)\r\n        to = setTimeout(() => {\r\n                mainStore.setActivePanel('home')\r\n        }, 3000)\r\n    }\r\n    if(store.loadingAppStatus.code == 0){\r\n        setRandom(false)\r\n        to = setTimeout(() => {\r\n            mainStore.setActivePanel('start')\r\n        }, 3000)\r\n    }\r\n      return () => {\r\n          clearTimeout(to)\r\n      }\r\n  }, [store.loadingAppStatus.code])\r\n\treturn (<Panel id={id}>\r\n\t\t<div className=\"hello_wrap\">\r\n            {store.loadingAppStatus.code == 777 && <Icon36CancelOutline />}\r\n            {store.loadingAppStatus.code == 2 &&  <img src={stick7} style={{margin: '0 auto', width: '200px'}} />}\r\n            {store.loadingAppStatus.code != 777 && store.loadingAppStatus.code != 2 && <Avatar src={store.fetchedUser.photo_200} size={72}/>}\r\n            <div className=\"app_status\">{store.loadingAppStatus.text.map(line => <p>{line}</p>)}</div>\r\n        </div>\r\n     </Panel>);\r\n    }))\r\n\r\nexport default Hello;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, PanelHeaderButton, Panel, platform, IOS, Input, Group, List, Cell, Header, SimpleCell, Snackbar, Avatar } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport { Icon24UserIncoming } from '@vkontakte/icons';\r\nimport { inject, observer } from 'mobx-react';\r\nimport axios from 'axios';\r\nimport { serverURL } from '../config'\r\n\r\nconst osName = platform();\r\n\r\nconst AdminMenu = inject('store')(observer((props) => {\r\n\tconst switchExam = () => {\r\n\t\taxios.get(`${serverURL}/switchExam`).then(res =>{\r\n\t\t\tif(!res.data.err){\r\n\t\t\t\tif(res.data.exam != props.store.settings.isExam){\r\n\t\t\t\t\tconst snack = (<Snackbar\r\n\t\t\t\t\t\tonClose={() => props.setSnackbar(null)}\r\n\t\t\t\t\t\tafter={<Avatar src={props.store.fetchedUser.photo_100} size={32} />}\r\n\t\t\t\t\t>Данные обновлены успешно</Snackbar>)\r\n\t\t\t\t\tprops.setSnackbar(snack)\r\n\t\t\t\t\tprops.store.setSettings({isExam: res.data.exam})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\treturn (<Panel id={props.id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={() => window.history.back()}>\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tУправление\r\n\t\t</PanelHeader>\r\n        <Group header={<Header mode=\"secondary\">Пользователи</Header>}>\r\n\t\t\t<List>\r\n\t\t\t\t<Cell before={<Icon24UserIncoming/>} onClick={props.go} data-to=\"lastVisit\">Последние посетители</Cell>\r\n\t\t\t\t<SimpleCell before={<Icon24UserIncoming/>} onClick={switchExam} indicator={props.store.settings.isExam ? 'Вкл' : 'Откл'}>Сессия</SimpleCell>\r\n\t\t\t</List>\r\n    \t</Group>\r\n\t\t{props.snackbar}\r\n\t</Panel>)\r\n}))\r\n\r\nAdminMenu.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AdminMenu;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, Input, Group, RichCell, Avatar, Panel, PanelHeader, PanelHeaderButton, ScreenSpinner } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport axios from 'axios'\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nimport { prepareDate } from '../../utils/functions'\r\n\r\nconst osName = platform();\r\n\r\nconst LastVisit = props => {\r\n    const [ users, setUsers ] = useState(null)\r\n    useEffect(() => {\r\n        props.setPopout(<ScreenSpinner size='large' />)\r\n        axios.get(\"https://tsu-helper-server.herokuapp.com/getLastVisit\", {timeout: 15000})\r\n        .then(res => {\r\n        bridge.send(\"VKWebAppCallAPIMethod\", {\r\n            \"method\": \"users.get\",\r\n            \"request_id\": \"1212\",\r\n            \"params\": {\r\n                \"user_ids\": res.data.users.map(item => item.id).join(\", \"),\r\n                \"access_token\":\"5939b522f443640db39af76cf6708863610df1a7e2cfd1fae85d46fce90d14928710a613a3591869588df\",\r\n                \"fields\": \"photo_100\"\r\n            }\r\n        }).then(resp => {\r\n            props.setPopout(null)\r\n            resp.response.map( (item, index) => {\r\n                item.lastVisit = res.data.users[index].lastVisit\r\n            })\r\n            setUsers(resp.response)\r\n            \r\n        }).catch(e => console.log(e.error_data))\r\n    })\r\n    }, []);\r\n\treturn (<Panel id={props.id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={() => window.history.back()}>\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tПоследние 10\r\n\t\t</PanelHeader>\r\n        <Group>\r\n        {users && users.map(user => {\r\n            console.log(user)\r\n            return <RichCell before={<Avatar src={user.photo_100}/>} caption={user.lastVisit ? prepareDate(user.lastVisit) : \"нет данных\"}>\r\n                { user.first_name + ' ' + user.last_name } \r\n            </RichCell>\r\n        })}\r\n    \t</Group>\r\n\t</Panel>)\r\n}\r\n\r\nLastVisit.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default LastVisit;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Icon24ClockOutline, Icon28BrainOutline, Icon24Done, Icon24Cancel, Icon28NewsfeedOutline, Icon28ServicesOutline, Icon28HomeOutline, Icon28UserCircleOutline } from '@vkontakte/icons';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport { withAdaptivity, Epic, Tabbar, TabbarItem, ConfigProvider, AdaptivityProvider, AppRoot, Avatar, Snackbar, ModalRoot, ModalPage, ModalPageHeader, PanelHeaderButton, FormLayout, Group, Text, Input, Button, Radio } from '@vkontakte/vkui'\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport axios from 'axios'\r\nimport { observer, Provider } from 'mobx-react'\r\nimport { serverURL } from './config'\r\n\r\nimport mainStore from './store/mainStore'\r\n\r\n\r\nimport Home from './panels/Home';\r\nimport Schedule from './panels/Schedule';\r\nimport Settings from './panels/Settings'\r\nimport Progress from './panels/Progress'\r\nimport Start from './panels/Start'\r\nimport DetailedProgress from './panels/DetailedProgress'\r\nimport Error from './panels/Error'\r\nimport News from './panels/News'\r\nimport Hello from './panels/Hello'\r\n\r\nimport AdminMenu from './panels/AdminMenu'\r\nimport LastVisit from './panels/admin/LastVisit'\r\nimport { MODAL_CHANGE_GROUP, MODAL_CHANGE_NUM, MODAL_CHANGE_SCHED_THEME } from './utils/modals.js'\r\nimport './reset.css'\r\n\r\nconst pointInPolygon = require('point-in-polygon')\r\n\r\nconst App = () => {\r\n\tconst [schedule, setSchedule] = useState(null)\r\n\tconst [valid, setValid] = useState(false)\r\n\tconst [textForm, setTextForm] = useState('')\r\n\tconst [snackbar, setSnackbar] = useState(null)\r\n\r\n\r\n\tconst sendNotification = (text) => {\r\n\t\treturn bridge.send('VKWebAppGetUserInfo').then(res => bridge.send(\"VKWebAppCallAPIMethod\", {\r\n\t\t\t\"method\": \"notifications.sendMessage\",\r\n\t\t\t\"request_id\": \"1212\",\r\n\t\t\t\"params\": {\r\n\t\t\t\t\"user_ids\": res.id,\r\n\t\t\t\t\"message\": \"Тестовое уведомление. Я рад, что ты с нами!\",\r\n\t\t\t\t\"access_token\":\"2c47d1312c47d1312c47d131972c32608422c472c47d13173add6862d3b4b7516945aba\",\r\n\t\t\t\t\"v\":\"5.130\"\r\n\t\t\t}\r\n\t\t}))\r\n\t}\r\n\tconst modalBack = (...args) => {\r\n\t\tconst type = args[0]\r\n\t\tvar params\r\n\t\tif(textForm || args[1]){\r\n\t\t\t\tswitch(type){\r\n\t\t\t\t\tcase 'num':\r\n\t\t\t\t\t\tparams = { num: textForm }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'group':\r\n\t\t\t\t\t\tparams = { group: textForm }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'theme_sched':\r\n\t\t\t\t\t\tparams = { themeSched:  args[1]}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tmainStore.setPopout(<ScreenSpinner size='large' />)\r\n\t\t\t\taxios.get(`${serverURL}/updateUser`, {params: {\r\n\t\t\t\t\tid: mainStore.fetchedUser.id,\r\n\t\t\t\t\t...params\r\n\t\t\t\t}, timeout: 15000}).then(res => {\r\n\t\t\t\t\tif(res.data.err){\r\n\t\t\t\t\t\tcreateError({type: 1, descr: res.data.text, name: \"Изменение настроек\", code: res.data, back: 'settings'})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconst snack = (<Snackbar\r\n\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\tafter={<Avatar src={mainStore.fetchedUser.photo_100} size={32} />}\r\n\t\t\t\t\t\t>Данные обновлены успешно</Snackbar>)\r\n\t\t\t\t\t\tsetSnackbar(snack)\r\n\t\t\t\t\t\tmainStore.setAppUser({group: res.data.updated.group || mainStore.appUser.group, num: res.data.updated.num || mainStore.appUser.num,\r\n\t\t\t\t\t\t\tthemeSched: res.data.updated.themeSched || mainStore.appUser.themeSched, status: `группы ${res.data.updated.group || mainStore.appUser.group}`})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmainStore.setPopout(null)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tsetValid(false)\r\n\t\t\tsetTextForm('')\r\n\t\t\tmainStore.setActiveModal(mainStore.modalHistory[mainStore.modalHistory.length - 2]);\r\n\t};\r\n\tbridge.send(\"VKWebAppInit\", {});\r\n\tbridge.subscribe(({ detail: { type, data }}) => {\r\n\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\tconst theme = data.scheme ? data.scheme : 'client_light';\r\n\t\t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t\tschemeAttribute.value = theme\r\n\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t\tmainStore.setTheme(theme == \"space_gray\" ? \"dark\" : \"light\")\r\n\t\t} else if(type === 'VKWebAppViewHide'){\r\n\t\t\tconsole.log('закрыли')\r\n\t\t}\r\n\t\t\r\n\t});\r\n\tconst createError = (obj) => {\r\n\t\tmainStore.setError({...mainStore.error, ...obj})\r\n\t\tmainStore.setActivePanel('error')\r\n\t}\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\t// bridge.send('VKWebAppGetGeodata').then(data => {\r\n\t\t// \tif(data.available){\r\n\t\t// \t\tlet coords = [\r\n\t\t// \t\t\t['Гл./9й',[54.166817,37.588596], [54.165753, 37.587397], [54.166590, 37.585001], [54.167693, 37.586229]],\r\n\t\t// \t\t\t// ['дом', [54.213367,37.627497],[54.212861,37.627455],[54.212759, 37.628544], [54.213189, 37.628692]],\r\n\t\t// \t\t\t['5й', [54.173112, 37.591369], [54.172595, 37.592710], [54.173454, 37.593716], [54.173882, 37.592238]]\r\n\t\t\t\t\r\n\t\t// \t\t]\r\n\t\t// \t\tlet r = coords.map(coord => {\r\n\t\t// \t\t\tif(pointInPolygon([data.lat, data.long], coord.slice(1))){\r\n\t\t// \t\t\t\treturn coord[0]\r\n\t\t// \t\t\t} \r\n\t\t// \t\t})\r\n\t\t// \t\tlet result = r.filter(i => i)\r\n\t\t// \t\tif(result.length){\r\n\t\t// \t\t\tmainStore.setCoords({coords: {lat: data.lat, long: data.long, acc: data.accuracy}, result: true, where: result[0]})\r\n\t\t// \t\t} else {\r\n\t\t// \t\t\tmainStore.setCoords({coords: {lat: data.lat, long: data.long, acc: data.accuracy}, result: false, where: false})\r\n\t\t// \t\t}\r\n\t\t// \t}else{\r\n\t\t// \t\tmainStore.setCoords({coords: {}, where: false, result: 'Геолокация недоступна'})\r\n\t\t// \t}\r\n\t\t// })\r\n\r\n\t\tasync function fetchData() {\r\n\t\t\treturn await bridge.send('VKWebAppGetUserInfo').then(res => {\r\n\t\t\t\tmainStore.setVkUser(res);\r\n\t\t\t\treturn res.id\r\n\t\t\t})\r\n\t\t}\r\n\t\tfetchData().then(mainStore.initApp).catch(e => console.log(e.error_data))\r\n\t\t// .then((id) => {\r\n\t\t// \tbridge.send(\"VKWebAppCallAPIMethod\", {\r\n\t\t// \t\t\"method\": \"apps.isNotificationsAllowed\",\r\n\t\t// \t\t\"request_id\": \"1212\",\r\n\t\t// \t\t\"params\": {\r\n\t\t// \t\t\t\"user_id\": id,\r\n\t\t// \t\t\t\"access_token\":\"2c47d1312c47d1312c47d131972c32608422c472c47d13173add6862d3b4b7516945aba\",\r\n\t\t// \t\t\t\"v\":\"5.130\"\r\n\t\t// \t\t}\r\n\t\t// \t}).then(resp => {\r\n\t\t// \t})\r\n\t}, []);\r\n\tconst onModalChangeForm = e => {\r\n\t\tconst { name, value } = e.currentTarget;\r\n\t\tsetTextForm(value)\r\n        switch(name){\r\n            case 'group':\r\n                if(/[1-9]\\d{5}/g.test(value)){\r\n                    setValid(true)\r\n                } else {\r\n                    setValid(false)\r\n                }\r\n                break;\r\n            case 'aff':\r\n                if(/((1[3-9])|(2[0-5]))\\d{4}$/g.test(value)){\r\n                    setValid(true)\r\n                } else {\r\n                    setValid(false)\r\n                }\r\n                break;\r\n        }\r\n\t}\t\r\n\tconst modalRoot = (\r\n\t\t<ModalRoot \r\n\t\tactiveModal={mainStore.modal}\r\n\t\tonClose={modalBack}>\r\n\t\t<ModalPage\r\n          id={MODAL_CHANGE_GROUP}\r\n          onClose={modalBack}\r\n          header={\r\n            <ModalPageHeader\r\n              left={<PanelHeaderButton onClick={modalBack}><Icon24Cancel /></PanelHeaderButton>}\r\n              right={<PanelHeaderButton onClick={modalBack.bind(this, 'group')} disabled={!valid}><Icon24Done /></PanelHeaderButton>}\r\n            >\r\n              Номер группы\r\n            </ModalPageHeader>\r\n          }\r\n        >\r\n\t\t\t<Group style={{ padding: '0 10px', paddingBottom: \"25px\"}}>\r\n\t\t\t\t<FormLayout>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"group\"\r\n\t\t\t\t\tonChange={onModalChangeForm}\r\n\t\t\t\t\tstatus={textForm ? valid ? 'valid' : 'error' : 'default'}\r\n\t\t\t\t\tbottom={textForm ? valid ? 'Мне нравится твоя группа' : 'Некорректный номер группы' : ''}/>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t</Group>\r\n\t\t</ModalPage>\r\n\t\t<ModalPage\r\n          id={MODAL_CHANGE_NUM}\r\n          onClose={modalBack}\r\n          header={\r\n            <ModalPageHeader\r\n              left={<PanelHeaderButton onClick={modalBack}><Icon24Cancel /></PanelHeaderButton>}\r\n              right={<PanelHeaderButton onClick={modalBack.bind(this, 'num')} disabled={!valid}><Icon24Done /></PanelHeaderButton>}\r\n            >\r\n              Номер зачётки\r\n            </ModalPageHeader>\r\n          }\r\n        >\r\n\t\t\t<Group style={{ padding: '0 10px', paddingBottom: \"25px\"}}>\r\n\t\t\t\t<FormLayout>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"aff\"\r\n\t\t\t\t\tonChange={onModalChangeForm} \r\n\t\t\t\t\tstatus={textForm ? valid ? 'valid' : 'error' : 'default'}\r\n\t\t\t\t\tbottom={textForm ? valid ? 'Полагаю, лучшая зачётка' : 'Некорректный номер зачётки' : ''}/>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t</Group>\r\n\t\t</ModalPage>\r\n\t\t<ModalPage\r\n          id={MODAL_CHANGE_SCHED_THEME}\r\n          onClose={modalBack}\r\n          header={\r\n            <ModalPageHeader\r\n              left={<PanelHeaderButton onClick={modalBack}><Icon24Cancel /></PanelHeaderButton>}\r\n              right={<PanelHeaderButton onClick={modalBack.bind(this, 'theme_sched', mainStore.appUser.themeSched)} disabled={!valid}><Icon24Done /></PanelHeaderButton>}\r\n            >\r\n              Выберите стиль\r\n            </ModalPageHeader>\r\n          }\r\n        >\r\n\t\t\t<Radio name=\"style_sched\" value=\"main\" onClick={modalBack.bind(this, 'theme_sched', 0)}>Main</Radio>\r\n\t\t\t<Radio name=\"style_sched\" value=\"alesha\" onClick={modalBack.bind(this, 'theme_sched', 1)}>Alesha</Radio>\r\n\t\t</ModalPage>\r\n\t\t</ModalRoot>\r\n\t)\r\n\tconst go = e => {\r\n\t\tmainStore.setActivePanel(e.currentTarget.dataset.to);\r\n\t\tconsole.log('click')\r\n\t\twindow.history.pushState({panel: e.currentTarget.dataset.to}, `${e.currentTarget.dataset.to}`)\r\n\t\tmainStore.setPopout(null)\r\n\t\tif(e.currentTarget.dataset.km){\r\n\t\t\tmainStore.setDetailed(JSON.parse(e.currentTarget.dataset.km))\r\n\t\t}\r\n\t};\r\n\tconst createUser = (errorHandler, form) => {\r\n\t\tmainStore.setPopout(<ScreenSpinner size='large' />)\r\n\t\treturn axios.get(`${serverURL}/newUser`, {params: {id: mainStore.fetchedUser.id, group: form.group, num: form.num}})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(!res.data.err){\r\n\t\t\t\t\tmainStore.setAppUser({group: res.data.user.group, num: res.data.user.num})\r\n\t\t\t\t\tmainStore.setPopout(null)\r\n\t\t\t\t\tmainStore.setActivePanel('home')\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrorHandler({header: \"Ошибка сервера\", text: res.data.text})\r\n\t\t\t\t\tmainStore.setPopout(null)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\r\n\t\r\n\tconst menu = e => {\r\n\t\tif(e.state){\r\n\t\t\tif((mainStore.activePanel == 'home' && e.state.panel == 'start') || (mainStore.activePanel == 'start' && e.state.panel == 'home')){\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tmainStore.setActivePanel(e.state.panel)\r\n\t\t} else {\r\n\t\t\tif(mainStore.activePanel == 'start'){\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tmainStore.setActivePanel(`home`)\r\n\t\t\twindow.history.pushState( { panel: 'home'}, `home` )\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('popstate', e => e.preventDefault() & menu(e))\r\n\t\twindow.history.pushState({ panel: 'home'}, `home`)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('popstate')\r\n\t\t}\r\n\t}, [])\r\n\tconst onStoryChange = (e) => {\r\n\t\tmainStore.setActivePanel(e.currentTarget.dataset.story)\r\n\t}\r\n\treturn (\r\n\t\t<ConfigProvider>\r\n\t\t\t<AdaptivityProvider>\r\n\t\t\t\t<AppRoot mode=\"full\">\r\n\t\t\t\t\t<Provider store={mainStore}>\r\n\t\t\t\t\t\t<Epic activeStory={mainStore.activePanel} tabbar={ mainStore.activePanel != 'hello' && mainStore.activePanel != 'start' &&\r\n\t\t\t\t\t\t\t<Tabbar>\r\n\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\t\t\t\tselected={mainStore.activePanel === 'news'}\r\n\t\t\t\t\t\t\t\tdata-story=\"news\"\r\n\t\t\t\t\t\t\t\ttext=\"Новости\"\r\n\t\t\t\t\t\t\t\tstyle={{background: 'var(--background_content)'}}\r\n\t\t\t\t\t\t\t\t><Icon28NewsfeedOutline /></TabbarItem>\r\n\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\t\t\t\tselected={mainStore.activePanel === 'schedule'}\r\n\t\t\t\t\t\t\t\tdata-story=\"schedule\"\r\n\t\t\t\t\t\t\t\ttext={mainStore.settings.isExam ? \"Сессия\" : \"Расписание\"}\r\n\t\t\t\t\t\t\t\tstyle={{background: 'var(--background_content)'}}\r\n\t\t\t\t\t\t\t\t><Icon24ClockOutline/></TabbarItem>\r\n\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\t\t\t\tselected={mainStore.activePanel === 'home'}\r\n\t\t\t\t\t\t\t\tdata-story=\"home\"\r\n\t\t\t\t\t\t\t\ttext=\"Главная\"\r\n\t\t\t\t\t\t\t\tstyle={{background: 'var(--background_content)'}}\r\n\t\t\t\t\t\t\t\t><Icon28HomeOutline /></TabbarItem>\r\n\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\t\t\t\tselected={mainStore.activePanel === 'progress'}\r\n\t\t\t\t\t\t\t\tdata-story=\"progress\"\r\n\t\t\t\t\t\t\t\ttext=\"Зачётка\"\r\n\t\t\t\t\t\t\t\tstyle={{background: 'var(--background_content)'}}\r\n\t\t\t\t\t\t\t\t><Icon28BrainOutline /></TabbarItem>\r\n\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\t\t\t\tselected={mainStore.activePanel === 'settings'}\r\n\t\t\t\t\t\t\t\tdata-story=\"settings\"\r\n\t\t\t\t\t\t\t\ttext=\"Профиль\"\r\n\t\t\t\t\t\t\t\tstyle={{background: 'var(--background_content)'}}\r\n\t\t\t\t\t\t\t\t><Icon28UserCircleOutline /></TabbarItem>\r\n\t\t\t\t\t\t\t</Tabbar>\r\n        \t}>\r\n\t\t\t\t\t\t<View id=\"hello\" activePanel=\"hello\">\r\n\t\t\t\t\t\t\t<Hello id=\"hello\" go={go} />\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"home\" activePanel=\"home\">\r\n\t\t\t\t\t\t\t<Home id='home' fetchedUser={mainStore.fetchedUser} go={go} appUser={mainStore.appUser}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"schedule\" activePanel=\"schedule\">\r\n\t\t\t\t\t\t\t<Schedule id=\"schedule\" go={go} setPopout={mainStore.setPopout} schedule={mainStore.schedule} setSchedule={setSchedule} group={mainStore.appUser.group} appUser={mainStore.appUser} createError={createError}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"settings\" activePanel=\"settings\" modal={modalRoot}>\r\n\t\t\t\t\t\t\t<Settings id=\"settings\" go={go} appUser={mainStore.appUser} setModal={mainStore.setModal} snackbar={snackbar} storyChange={onStoryChange}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"start\" activePanel=\"start\">\r\n\t\t\t\t\t\t\t<Start id=\"start\" initApp={mainStore.initApp} createError={createError} createUser={createUser} setPopout={mainStore.setPopout} setActivePanel={mainStore.setActivePanel} setAppUser={mainStore.setAppUser} vku={mainStore.fetchedUser}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"news\" activePanel=\"news\">\r\n\t\t\t\t\t\t\t<News id=\"news\" go={go} />\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"error\" activePanel=\"error\">\r\n\t\t\t\t\t\t\t<Error id='error' err={mainStore.error} go={go}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"progress\" activePanel=\"progress\">\r\n\t\t\t\t\t\t\t<Progress id=\"progress\" go={go} createError={createError} setPopout={mainStore.setPopout} appUser={mainStore.appUser} setDetailed={mainStore.setDetailed} progress={mainStore.progress} setProgress={mainStore.setProgress}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"adminMenu\" activePanel=\"adminMenu\">\r\n\t\t\t\t\t\t\t<AdminMenu id=\"adminMenu\" go={go} snackbar={snackbar} setSnackbar={setSnackbar}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View id=\"lastVisit\" activePanel=\"lastVisit\">\r\n\t\t\t\t\t\t\t<LastVisit id=\"lastVisit\" go={go} setPopout={mainStore.setPopout}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<View activePanel={mainStore.activePanel} popout={mainStore.popout} modal={modalRoot} >\r\n\t\t\t\t\t\t\t<DetailedProgress id=\"detailedprogress\" go={go} data={mainStore.detailed}/>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t</Epic>\r\n\t\t\t\t\t</Provider>\r\n\t\t\t\t</AppRoot>\r\n\t\t\t</AdaptivityProvider>\r\n\t\t</ConfigProvider>\r\n\t);\r\n}\r\n\r\nexport default withAdaptivity(observer(App), {viewWidth: true});\r\n\r\n","import \"core-js/features/map\";\r\nimport \"core-js/features/set\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nif (process.env.NODE_ENV === \"development\") {\r\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n}\r\n","const prepareDate = date => {\r\n\tconst updated = new Date(date)\r\n\tconst now = new Date(new Date().getTime())\r\n\tconst hours = Math.floor((now-updated)/60/60/1000)\r\n\tconst months = [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\", \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"]\r\n\tif(hours < 8){\r\n\t\tconst minutes = Math.floor((now-updated)/60/1000)\r\n\t\tif(minutes < 5 && !hours){\r\n\t\t\treturn `только что`\r\n\t\t}\r\n\t\tif(!hours){\r\n\t\t\treturn `${minutes} мин. назад` \r\n\t\t} else {\r\n\t\t\treturn `${hours} ч. назад`\r\n\t\t}\r\n\t} else {\r\n\t\tif(now.getDate() == updated.getDate()){\r\n\t\t\treturn `сегодня в ${((updated.getHours()+'').length < 2 ? '0' : '')+updated.getHours()}:${((updated.getMinutes()+'').length < 2 ? '0' : '')+updated.getMinutes()}`\r\n\t\t} else if((now.getDate() - 1) == updated.getDate()){\r\n\t\t\treturn `вчера в ${((updated.getHours()+'').length < 2 ? '0' : '')+updated.getHours()}:${((updated.getMinutes()+'').length < 2 ? '0' : '')+updated.getMinutes()}`\r\n\t\t} else {\r\n\t\t\treturn `${updated.getDate()} ${months[updated.getMonth()]} ${updated.getFullYear()} в ${((updated.getHours()+'').length < 2 ? '0' : '')+updated.getHours()}:${((updated.getMinutes()+'').length < 2 ? '0' : '')+updated.getMinutes()}`\r\n\r\n\t\t}\r\n\t}\r\n}\r\nconst getDate = (date= new Date(), offset = 0) => {\r\n\tconst createOffset = new Date(date.getTime() + offset * 24 * 60 * 60 * 1000);\r\n\tcreateOffset.setHours(23)\r\n\tcreateOffset.setMinutes(59)\r\n\tcreateOffset.setSeconds(59)\r\n\tconst months = [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\", \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"]\r\n\tconst day = ['воскресение', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота']\r\n\treturn {day: createOffset, \r\n\t\ttext: `${createOffset.getDate()} ${months[createOffset.getMonth()]}, ${day[createOffset.getDay()]}`, \r\n\t\tmini: `${((createOffset.getDate()+'').length < 2 ? '0' : '')+createOffset.getDate()}.${(((createOffset.getMonth()+1)+'').length < 2 ? '0' : '')+(createOffset.getMonth()+1)}.${createOffset.getFullYear()}`}\r\n}\r\nconst getWeek = (date = new Date()) => {\r\n\tconst numDay = date.getDay()\r\n\tconst left = numDay ? numDay - 1 : 6\r\n\tconst right = numDay ? 7 - numDay : 0\r\n\tconst res = []\r\n\tfor(let i = left; i > 0; i--){\r\n\t\tres.push(new Date(date.getTime()-i*24*60*60*1000))}\r\n\tfor(let i = 0; i <= right; i++){\r\n\t\tres.push(new Date(date.getTime()+i*24*60*60*1000))\r\n\t}\r\n\treturn res\r\n}\r\nconst getTime = (time) => {\r\n\treturn `${((time.getHours()+'').length < 2 ? '0' : '')+time.getHours()}:${((time.getMinutes()+'').length < 2 ? '0' : '')+time.getMinutes()}`\r\n}\r\n\r\nconst timeToDate = (date, from = new Date()) => {\r\n\tconst left = Math.floor(Math.abs(date - from) / 1000)\r\n\tconst d = Math.floor(left / 60 / 60 / 24)\r\n\tconst h = Math.floor(left / 60 / 60)\r\n\tconst m = Math.floor(left / 60)\r\n\tconst s = Math.floor(left)\r\n\treturn {\r\n\t\td, h, m, s \r\n\t}\r\n}\r\n\r\nconst timeFormat = (format, value) => {\r\n\tconst d = Math.floor(value / 60 / 60 / 24)\r\n\tconst h = Math.floor((value - 24 * 60 * 60 * d) / 60 / 60)\r\n\tconst m = Math.floor((value - 24 * 60 * 60 * d - 60 * 60 * h) / 60)\r\n\tconst s = Math.floor((value - 24 * 60 * 60 * d - 60 * 60 * h - 60 * m))\r\n\treturn format.replace('dd', d).replace('hh', h < 10 ? '0' + h : h).replace('mm', m < 10 ? '0' + m : m).replace('ss', s < 10 ? '0' + s : s)\r\n}\r\nfunction declOfNum(n, text_forms) {  \r\n    n = Math.abs(n) % 100; \r\n    var n1 = n % 10;\r\n    if (n > 10 && n < 20) { return text_forms[2]; }\r\n    if (n1 > 1 && n1 < 5) { return text_forms[1]; }\r\n    if (n1 == 1) { return text_forms[0]; }\r\n    return text_forms[2];\r\n}\r\nmodule.exports = { prepareDate, getDate, getWeek, getTime, timeToDate, timeFormat }","module.exports = {\r\n    serverURL: 'https://tsu-helper-server.herokuapp.com',\r\n    version: 'v0.3.1'\r\n}","const MODAL_CHANGE_NUM = 'change-num';\r\nconst MODAL_CHANGE_GROUP = 'change-group';\r\nconst MODAL_CHANGE_SCHED_THEME = 'change-sched';\r\nmodule.exports = {\r\n    MODAL_CHANGE_GROUP,\r\n    MODAL_CHANGE_NUM,\r\n    MODAL_CHANGE_SCHED_THEME\r\n}","module.exports = __webpack_public_path__ + \"static/media/1_3.5d184b6b.png\";"],"sourceRoot":""}