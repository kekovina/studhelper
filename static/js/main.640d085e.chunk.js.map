{"version":3,"sources":["img/persik.png","img/0_0.png","img/0_1.png","img/0_2.png","img/1_0.png","img/1_1.png","img/1_2.png","img/1_3.png","img/1_4.png","img/2_0.png","utils/functions.js","store/mainStore.js","components/Alesha.js","panels/Home.js","panels/Persik.js","panels/Schedule.js","panels/Settings.js","components/Accordeon.js","components/AleshaCard.js","utils/ProgressParser.js","panels/Progress.js","panels/Start.js","panels/DetailedProgress.js","panels/Error.js","components/NewsCard.js","panels/News.js","panels/AdminMenu.js","panels/admin/LastVisit.js","App.js","index.js","utils/modals.js","config.js"],"names":["module","exports","prepareDate","date","updated","Date","now","getTime","hours","Math","floor","minutes","getDate","getHours","length","getMinutes","getMonth","getFullYear","offset","createOffset","setHours","setMinutes","setSeconds","months","day","text","getDay","mini","getWeek","numDay","left","right","res","i","push","time","configure","enforceActions","activePanel","fetchedUser","theme","appUser","group","popout","progress","detailed","schedule","error","modal","modalHistory","setActivePanel","value","setVkUser","user","setAppUser","setPopout","setProgress","setDetailed","getSchedule","a","axios","get","serverURL","params","then","data","err","setError","setModal","setModalHistory","history","setActiveModal","activeModal","indexOf","splice","setTheme","makeObservable","this","observable","currentLesson","computed","analizationSchedule","action","filter","item","end","shift","sched","start","first","Alesha","subject","status","skeleton","home","className","mainStore","color","test","type","aud","subj","prep","pg","admins","Home","inject","observer","id","go","store","src","photo_200","first_name","last_name","sex","mode","map","onClick","data-to","href","propTypes","PropTypes","string","isRequired","func","shape","city","title","osName","platform","Persik","props","IOS","persik","alt","Schedule","useState","selectedDate","setSelectedDate","selectedSchedule","setSelectedSchedule","console","log","weeks","handler","openSelector","useEffect","prototype","onejan","ceil","onClose","bind","iosCloseItem","autoclose","index","subtitle","header","style","display","flexDirection","alignItems","width","height","weight","fontSize","textTransform","marginTop","snackbar","joke","setJoke","jokes","randomInteger","min","max","rand","random","perc","before","indicator","MODAL_CHANGE_GROUP","num","MODAL_CHANGE_NUM","disabled","Accordeon","active","children","setActive","CustomCard","t","d","points","km","m","name","slice","require","Progress","createError","activeTerm","setActiveTerm","size","descr","code","back","catch","e","getProgress","cacheTime","term","data-km","JSON","stringify","Start","aff","form","setForm","validAff","setValidAff","validNum","setValidNum","onChange","currentTarget","top","bottom","vku","DetailedProgress","getKM","stickers","stick1","stick2","stick3","stick4","stick5","stick6","stick7","stick8","stick9","Error","sticker","round","scheme","document","body","attributes","getNamedItem","class","NewsCard","photo","News","news","setNews","bridge","send","response","items","attachments","pop","sizes","url","AdminMenu","LastVisit","users","setUsers","timeout","join","resp","lastVisit","error_data","photo_100","caption","setSchedule","valid","setValid","textForm","setTextForm","setSnackbar","modalBack","themeSched","snack","after","subscribe","detail","schemeAttribute","createAttribute","setNamedItem","obj","getUser","fetchData","info","isAllowed","onModalChangeForm","modalRoot","paddingBottom","MODAL_CHANGE_SCHED_THEME","dataset","to","parse","createUser","errorHandler","ReactDOM","render","getElementById","version"],"mappings":"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","file":"static/js/main.640d085e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","module.exports = __webpack_public_path__ + \"static/media/0_0.bbe0751b.png\";","module.exports = __webpack_public_path__ + \"static/media/0_1.f236a8b6.png\";","module.exports = __webpack_public_path__ + \"static/media/0_2.b5846721.png\";","module.exports = __webpack_public_path__ + \"static/media/1_0.ba26d055.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/1_2.19cc26df.png\";","module.exports = __webpack_public_path__ + \"static/media/1_3.5d184b6b.png\";","module.exports = __webpack_public_path__ + \"static/media/1_4.1eb61ae6.png\";","module.exports = __webpack_public_path__ + \"static/media/2_0.4fd69ddc.png\";","const prepareDate = date => {\r\n\tconst updated = new Date(date)\r\n\tconst now = new Date(new Date().getTime())\r\n\tconst hours = Math.floor((now-updated)/60/60/1000)\r\n\tconst months = [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\", \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"]\r\n\tif(hours < 8){\r\n\t\tconst minutes = Math.floor((now-updated)/60/1000)\r\n\t\tif(minutes < 5 && !hours){\r\n\t\t\treturn `только что`\r\n\t\t}\r\n\t\tif(!hours){\r\n\t\t\treturn `${minutes} мин. назад` \r\n\t\t} else {\r\n\t\t\treturn `${hours} ч. назад`\r\n\t\t}\r\n\t} else {\r\n\t\tif(now.getDate() == updated.getDate()){\r\n\t\t\treturn `сегодня в ${((updated.getHours()+'').length < 2 ? '0' : '')+updated.getHours()}:${((updated.getMinutes()+'').length < 2 ? '0' : '')+updated.getMinutes()}`\r\n\t\t} else if((now.getDate() - 1) == updated.getDate()){\r\n\t\t\treturn `вчера в ${((updated.getHours()+'').length < 2 ? '0' : '')+updated.getHours()}:${((updated.getMinutes()+'').length < 2 ? '0' : '')+updated.getMinutes()}`\r\n\t\t} else {\r\n\t\t\treturn `${updated.getDate()} ${months[updated.getMonth()]} ${updated.getFullYear()} в ${((updated.getHours()+'').length < 2 ? '0' : '')+updated.getHours()}:${((updated.getMinutes()+'').length < 2 ? '0' : '')+updated.getMinutes()}`\r\n\r\n\t\t}\r\n\t}\r\n}\r\nconst getDate = (date= new Date(), offset = 0) => {\r\n\tconst createOffset = new Date(date.getTime() + offset * 24 * 60 * 60 * 1000);\r\n\tcreateOffset.setHours(23)\r\n\tcreateOffset.setMinutes(59)\r\n\tcreateOffset.setSeconds(59)\r\n\tconst months = [\"января\", \"февраля\", \"марта\", \"апреля\", \"мая\", \"июня\", \"июля\", \"августа\", \"сентября\", \"октября\", \"ноября\", \"декабря\"]\r\n\tconst day = ['воскресение', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота']\r\n\treturn {day: createOffset, \r\n\t\ttext: `${createOffset.getDate()} ${months[createOffset.getMonth()]}, ${day[createOffset.getDay()]}`, \r\n\t\tmini: `${((createOffset.getDate()+'').length < 2 ? '0' : '')+createOffset.getDate()}.${(((createOffset.getMonth()+1)+'').length < 2 ? '0' : '')+(createOffset.getMonth()+1)}.${createOffset.getFullYear()}`}\r\n}\r\nconst getWeek = (date = new Date()) => {\r\n\tconst numDay = date.getDay()\r\n\tconst left = numDay ? numDay - 1 : 6\r\n\tconst right = numDay ? 7 - numDay : 0\r\n\tconst res = []\r\n\tfor(let i = left; i > 0; i--){\r\n\t\tres.push(new Date(date.getTime()-i*24*60*60*1000))}\r\n\tfor(let i = 0; i <= right; i++){\r\n\t\tres.push(new Date(date.getTime()+i*24*60*60*1000))\r\n\t}\r\n\treturn res\r\n}\r\nconst getTime = (time) => {\r\n\treturn `${((time.getHours()+'').length < 2 ? '0' : '')+time.getHours()}:${((time.getMinutes()+'').length < 2 ? '0' : '')+time.getMinutes()}`\r\n}\r\n\r\nmodule.exports = { prepareDate, getDate, getWeek, getTime }","import { action, configure, observable, makeObservable, computed } from 'mobx'\r\nimport { serverURL } from '../config'\r\nimport axios from 'axios'\r\nimport { getDate, getTime } from '../utils/functions'\r\n\r\nconfigure({ enforceActions: \"always\"})\r\n\r\nclass MainStore{\r\n    activePanel = 'home'\r\n    fetchedUser = null\r\n    theme = 'light'\r\n    appUser = {\r\n        group: \"\"\r\n    }\r\n    popout = \"<ScreenSpinner size='large' />\"\r\n    progress = null\r\n    detailed = null\r\n    schedule = null\r\n    error = null\r\n    modal = null\r\n    modalHistory = []\r\n    get currentLesson(){\r\n      let date = getDate(new Date())\r\n      let day = this.schedule ? this.schedule.data.filter(item => item.date == date.mini)[0]?.schedule || null : null\r\n      let now = getTime(new Date())\r\n      // let now = getTime(new Date('2021-05-11 12:00'))\r\n      let res = day ? day.filter(item => (now <= item.end)).shift() : null\r\n      if(res){\r\n        let sched = day.filter(item => item.start == res.start)\r\n        let text = res.start > now ?  \"Следующая пара\" : \"Сейчас идёт\"\r\n        return { sched, text }\r\n      }\r\n      return null\r\n    }\r\n    get analizationSchedule(){\r\n      let day = null\r\n      let i = 1;\r\n      let first\r\n      if(this.schedule){\r\n        while(!day){\r\n          let date = getDate(new Date(), i)\r\n          day = this.schedule.data.filter(item => item.date == date.mini)[0]?.schedule || null \r\n          i++\r\n        }\r\n        first = day.shift()\r\n      }\r\n      return first || null\r\n    }\r\n\r\n    constructor(){\r\n        makeObservable(this, {\r\n            activePanel: observable,\r\n            fetchedUser: observable,\r\n            appUser: observable,\r\n            popout: observable,\r\n            progress: observable,\r\n            detailed: observable,\r\n            schedule: observable,\r\n            error: observable,\r\n            modal: observable,\r\n            modalHistory: observable,\r\n            theme: observable,\r\n            currentLesson: computed,\r\n            analizationSchedule: computed,\r\n\r\n            setActivePanel: action,\r\n            setVkUser: action,\r\n            setAppUser: action,\r\n            setPopout: action,\r\n            setProgress: action,\r\n            setDetailed: action,\r\n            getSchedule: action,\r\n            setError: action,\r\n            setModal: action,\r\n            setModalHistory: action,\r\n            setActiveModal: action,\r\n            setTheme: action,\r\n        })\r\n    }\r\n    setActivePanel = value => this.activePanel = value\r\n    setVkUser = user => this.fetchedUser = user\r\n    setAppUser = user => {\r\n        this.appUser = {\r\n            ...this.appUser,\r\n            ...user\r\n        }\r\n    }\r\n    setPopout = popout => this.popout = popout\r\n    setProgress = progress => this.progress = progress\r\n    setDetailed = detailed => this.detailed = detailed\r\n    getSchedule = async () => {\r\n      return await axios.get(`${serverURL}/getSchedule`, {params: {group: this.appUser.group}})\r\n        .then(res => {\r\n          if(res.data.err){\r\n            return {...res.data, text: \"Не удалось загрузить расписание\"}\r\n          }\r\n          if(!res.data){\r\n            return {err: 1, text: 'Сервер не вернул данные'}\r\n          }\r\n          this.schedule = res.data.res.data\r\n        })\r\n    }\r\n    setError = error => this.error = error\r\n    setModal = modal => this.modal = modal\r\n    setModalHistory = history => this.history = history\r\n    setActiveModal = activeModal => {\r\n\t\tactiveModal = activeModal || null;\r\n\t\tlet history = this.modalHistory ? [...this.modalHistory] : [];\r\n\t\r\n\t\tif (activeModal === null) {\r\n\t\t  history = [];\r\n\t\t} else if (history.indexOf(activeModal) !== -1) {\r\n\t\t  history = history.splice(0, history.indexOf(activeModal) + 1);\r\n\t\t} else {\r\n\t\t  history.push(activeModal);\r\n\t\t}\r\n\t\r\n\t\tthis.setModal(activeModal)\r\n\t\tthis.setModalHistory(history)\r\n    }\r\n    setTheme = theme => this.theme = theme\r\n    \r\n\r\n\r\n}\r\n\r\nexport default new MainStore()","import React from 'react';\r\nimport {Group, RichCell, Text} from '@vkontakte/vkui';\r\nimport mainStore from '../store/mainStore'\r\n\r\nimport './alesha.css';\r\n\r\nexport default function Alesha({ subject, status, skeleton, home }){\r\n\tif(skeleton){\r\n\t\treturn (\r\n\t\t\t<div className={`subject ${mainStore.theme} skeleton`}>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}else if(!subject){\r\n\t\t\treturn  (<div className={`subject ${mainStore.theme} empty`}>\r\n\t\t\t\tТы ничего не прогуливаешь\r\n\t\t\t</div>)\r\n\t} else {\r\n        const color = /лекц/gi.test(subject.type) ? 'lec' : /лаб/gi.test(subject.type) ? \"lab\" : /практ/gi.test(subject.type) ? \"pract\" : \"empty\"\r\n\t\treturn (\r\n\t\t\t<div className={`subject ${mainStore.theme} ${status} ${color} ${home ? 'home' : ''}`}>\r\n\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t<div className=\"start\">{subject.start}</div>\r\n\t\t\t\t\t<div className=\"end\">{subject.end}</div>\r\n\t\t\t\t\t<div className=\"aud\">{subject.aud}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t<div className=\"subj\">{subject.subj}</div>\r\n\t\t\t\t\t<div className=\"prep\">{subject.prep}</div>\r\n\t\t\t\t\t<div className={`types`}>\r\n\t\t\t\t\t\t<div className=\"type\">{subject.type}</div>\r\n\t\t\t\t\t\t{subject.pg && <div className={`pg`}>Подгруппа {subject.pg}</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport { Icon16ClockOurline, Icon20Users, Icon20EducationOutline, Icon20NewsfeedOutline, Icon24Settings, Icon20ServicesOutline } from '@vkontakte/icons'\r\nimport Alesha from '../components/Alesha'\r\nimport NextLessons from '../components/NextLessons'\r\n\r\nimport './home.css'\r\nimport { inject, observer } from 'mobx-react';\r\n\r\nconst admins = [503012833]\r\n\r\nconst Home = inject('store')(observer(({ id, go, fetchedUser, appUser, store }) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader>StudHelper</PanelHeader>\r\n\t\t{fetchedUser &&\r\n\t\t<div className={`userbar ${store.theme}`}>\r\n\t\t\t<Avatar src={fetchedUser.photo_200}/>\r\n\t\t\t<div className=\"userinfo\">\r\n\t\t\t\t<div className=\"username\">{`${fetchedUser.first_name} ${fetchedUser.last_name}`}</div>\r\n\t\t\t\t<div className=\"group\">{(fetchedUser.sex == 1 ? \"Студентка\" : \"Студент\") +\" \" +(appUser.status || \"\")}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t}\r\n\t\t{\r\n\t\t\tstore.currentLesson && (<Header mode=\"secondary\">{store.currentLesson && store.currentLesson.text}</Header>)\r\n\t\t}\r\n\t\t{\r\n\t\t\tstore.currentLesson && (store.currentLesson.sched.map(item => <Alesha subject={item} status='future' skeleton={!store.schedule} home/>))\r\n\t\t}\r\n\t\t{\r\n\t\t\t//!store.currentLesson && store.analizationSchedule && <NextLessons data={store.analizationSchedule}/>\r\n\t\t}\r\n\t\t\r\n\t\t<div className={`btn-group ${store.theme}`}>\r\n\t\t\t<div className=\"btn schedule\" onClick={go} data-to=\"schedule\">\r\n\t\t\t\t<Icon16ClockOurline />\r\n\t\t\t\t<div>Расписание</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"btn progress\" onClick={go} data-to=\"progress\">\r\n\t\t\t\t<Icon20EducationOutline/>\r\n\t\t\t\t<div>Зачётка</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"btn news\" onClick={go} data-to=\"news\">\r\n\t\t\t\t<Icon20NewsfeedOutline />\r\n\t\t\t\t<div>Новости</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"btn settings\" onClick={go} data-to=\"settings\">\r\n\t\t\t\t<Icon24Settings/>\r\n\t\t\t\t<div>Настройки</div>\r\n\t\t\t</div>\r\n\t\t\t{fetchedUser && admins.indexOf(fetchedUser.id) != -1 && \r\n\t\t\t(<div className=\"btn admin\" onClick={go} data-to=\"adminMenu\">\r\n\t\t\t\t<Icon20ServicesOutline/>\r\n\t\t\t\t<div>Управление</div>\r\n\t\t\t</div>)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t<a href=\"https://vk.com/public202317653\" className=\"btn link\">\r\n\t\t\t\t{/* <img src={settings} width={50} /> */}\r\n\t\t\t\t<Icon20Users/>\r\n\t\t\t\t<div>Наша<br/>группа</div>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</Panel>\r\n)))\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport persik from '../img/persik.png';\r\nimport './Persik.css';\r\n\r\nconst osName = platform();\r\n\r\nconst Persik = props => (\r\n\t<Panel id={props.id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tPersik\r\n\t\t</PanelHeader>\r\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\r\n\t</Panel>\r\n);\r\n\r\nPersik.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Persik;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, CellButton, Group, Header, ActionSheet, ActionSheetItem, ScreenSpinner, RichCell, Button,\r\n\tSimpleCell, Cell, Avatar, Text, Div } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport { Icon44SmileOutline } from '@vkontakte/icons';\r\nimport { getDate, prepareDate, getWeek, getTime } from '../utils/functions'\r\nimport { inject, observer } from 'mobx-react'\r\nimport Alesha from '../components/Alesha'\r\nimport mainStore from '../store/mainStore'\r\n\r\nimport './Schedule.css';\r\n\r\nconst osName = platform();\r\n\r\n\r\nconst Schedule = inject(\"store\")(observer(({ store, setPopout, id, go }) => {\r\n\tconst [selectedDate, setSelectedDate] = useState(getDate);\r\n\tconst [selectedSchedule, setSelectedSchedule] = useState(null)\r\n\tconst { schedule } = store\r\n\tconsole.log(schedule)\r\n\r\n\t\r\n\tvar weeks = 0;\r\n\tconst now = new Date()\r\n\tconst handler = type => {\r\n\t\tif(type == \"next\"){\r\n\t\t\tsetPopout(null)\r\n\t\t\topenSelector()\r\n\t\t\tweeks+=1\r\n\t\t} else {\r\n\t\t\tsetSelectedDate(type)\r\n\t\t}\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif(selectedDate.day.getDay() == 0){\r\n\t\t\tsetSelectedDate(getDate(new Date(), 1))\r\n\t\t}\r\n\t}, [])\r\n\tDate.prototype.getWeek = function() {\r\n        var onejan = new Date(this.getFullYear(), 0, 1);\r\n\t\tif(this.getDay() == 6){\r\n\t\t\treturn Math.ceil((((this - onejan - 24*60*60*1000) / 86400000) + onejan.getDay() + 1) / 7);\r\n\t\t}\r\n        return Math.ceil((((this - onejan) / 86400000) + onejan.getDay() + 1) / 7);\r\n    }\r\n\tconst openSelector = () => {\r\n\t\tconst popout = (<ActionSheet \r\n        onClose={setPopout.bind(this, null)}\r\n        iosCloseItem={<ActionSheetItem autoclose mode=\"cancel\">Отменить</ActionSheetItem>}\r\n      >\r\n\t\r\n\t{\r\n\t\t\tgetWeek(new Date(now.getTime()+weeks*7*24*60*60*1000)).map((i,index) => {\r\n\t\t\tvar {day, text, mini} = getDate(i);\r\n\t\t\tif(!day.getDay()){\r\n\t\t\t\treturn \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t<ActionSheetItem autoclose onClick={handler.bind(this, {text, day, mini})} subtitle=\"Авто\" mode={day.getDate() == selectedDate.day.getDate() ? 'cancel' : 'default'}>\r\n        \t{day.getDate() == new Date(now.getTime()+24*60*60*1000).getDate() ? \"завтра\" : day.getDate() == now.getDate() ?  \"сегодня\" : text}\r\n        </ActionSheetItem>)\r\n\t\t})}\r\n\t\t{(weeks < 2 && <ActionSheetItem autoclose onClick={handler.bind(this, \"next\")} subtitle=\"Авто\">\r\n        \tДругие даты\r\n        </ActionSheetItem>)}\r\n      </ActionSheet>)\r\n\t\tsetPopout(popout)\r\n\t\tweeks+=1\r\n\t}\r\n\t// useEffect(() => {\r\n\t// \tgetSchedule()\r\n\t// }, []);\r\n\tuseEffect(() => {\r\n\t\tif(schedule){\r\n\t\t\tsetSelectedSchedule(schedule.data.filter(item => item.date == selectedDate.mini)[0]?.schedule || null)\r\n\t\t}\r\n\t},[schedule, selectedDate])\r\n\treturn (<Panel id={id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tРасписание\r\n\t\t</PanelHeader>\r\n\t\t<div className=\"selected_date\">{selectedDate.text}. {selectedDate.day.getDay() ? `${selectedDate.day.getWeek() % 2 ? \"Чётная\" : \"Нечётная\"} неделя` : ''}</div>\r\n\t\t<div className=\"changewrap\">\r\n\t\t\t<button onClick={openSelector} className={`changedate ${mainStore.theme}`}>Выбрать другую дату</button>\r\n\t\t</div>\r\n\t\t<Group header={schedule ? <Header mode=\"secondary\">Расписание загружено {prepareDate(schedule.updated)}</Header> : null}>\r\n\t\t{selectedSchedule && selectedSchedule.map(subject => {\r\n\t\t\tconst status = (now.getDate() == selectedDate.day.getDate()) && (getTime(now) >= subject.start) && (getTime(now) <= subject.end) ? 'active' : (now.getDate() == selectedDate.day.getDate()) && (getTime(now) >= subject.end) ? \"last\" :  now.getTime() > selectedDate.day.getTime() ? \"last\" : \"future\"\r\n\t\t\treturn (<Alesha subject={subject} selectedDate={selectedDate} status={status}/>)\r\n\t\t})}\r\n\t  {!selectedSchedule && (\r\n\t\t<Group style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\r\n\t\t\t<Icon44SmileOutline \twidth={100} height={100} style={{color: '#aaa'}}/>\r\n\t\t\t<Text weight=\"medium\" style={{fontSize: '18px', color: \"#aaa\", textTransform: 'uppercase', marginTop: \"10px\"}}>Расписания на этот день нет</Text>\r\n\t\t</Group>\r\n\t  )}\r\n\t\t\r\n\r\n\t\t</Group>\r\n\t</Panel>)\r\n}))\r\n\r\n\r\n\r\nexport default Schedule;\r\n","import React, { useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, SimpleCell, Group, Header } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport { Icon28Users3Outline } from '@vkontakte/icons';\r\nimport { Icon20EducationOutline } from '@vkontakte/icons';\r\nimport { Icon28PaletteOutline } from '@vkontakte/icons';\r\nimport { MODAL_CHANGE_GROUP, MODAL_CHANGE_NUM, MODAL_CHANGE_SCHED_THEME } from '../utils/modals'\r\nimport { observer } from 'mobx-react'\r\n\r\nconst osName = platform();\r\n\r\nconst Settings = ({ appUser, id, go, setModal, snackbar }) => {\r\n\tconst [joke, setJoke] = useState()\r\n\tconst jokes = [\r\n\t\t'Единороги на фоне', \r\n\t\t'Закрытие долгов',\r\n\t\t'Доставка из буфета',\r\n\t\t'Хорошое настроение😜',\r\n\t\t'Отмена первых пар',\r\n\t\t'Отмена масочного режима',\r\n\t\t'Наступление лета', \r\n\t\t\"Отключение сессии\", \r\n\t\t\"Возврат стипендии\"\r\n\t]\r\n\tuseEffect(() => {\r\n\t\tconst joke = jokes[randomInteger(0,jokes.length-1)]\r\n\t\tconst perc = randomInteger(53, 87)\r\n\t\tsetJoke([joke, perc])\r\n\t}, [])\r\n\tfunction randomInteger(min, max) {\r\n\t\t// случайное число от min до (max+1)\r\n\t\tlet rand = min + Math.random() * (max + 1 - min);\r\n\t\treturn Math.floor(rand);\r\n\t  }\r\n\treturn (<Panel id={id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tНастройки\r\n\t\t</PanelHeader>\r\n        <Group header={<Header mode=\"primary\">Основные</Header>}>\r\n\t<SimpleCell before={<Icon28Users3Outline width={28} />} indicator={appUser.group} onClick={() => setModal(MODAL_CHANGE_GROUP)}>\r\n\t\tНомер группы\r\n\t</SimpleCell>\r\n\t<SimpleCell before={<Icon20EducationOutline width={28} />} indicator={appUser.num} onClick={() => setModal(MODAL_CHANGE_NUM)}>\r\n\t\tНомер зачётки\r\n\t</SimpleCell>\r\n    </Group>\r\n\t<Group header={<Header mode=\"primary\">В разработке</Header>}>\r\n\t\t<SimpleCell before={<Icon28PaletteOutline width={28}/>} indicator={joke && joke[1] + '%'} disabled>\r\n\t\t\t{joke && joke[0]}\r\n\t\t</SimpleCell>\r\n\t</Group>\r\n\t{snackbar}\r\n\t</Panel>)\r\n}\r\n\r\nSettings.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default observer(Settings);\r\n","import React from 'react'\r\nimport mainStore from '../store/mainStore'\r\n\r\nimport './accordeon.css';\r\n\r\nexport default function Accordeon({ active, title, children, setActive }) {\r\n    const toggle = () => active === title ? setActive(\"\") : setActive(title)\r\n    return (\r\n        <div className={`accordeon_wrap ${ title === active ? 'active' : ''} ${mainStore.theme}`} >\r\n            <div className=\"accordeon_title\" onClick={toggle} >{title}</div>\r\n            <div className=\"accordeon_content\">   \r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport mainStore from '../store/mainStore';\r\nimport './aleshacard.css';\r\n\r\nexport default function CustomCard({ data }) {\r\n    let t = \"customcard \"\r\n    let d = \"\"\r\n    let points = 0\r\n    switch(data.km){\r\n        case 0:\r\n            d = \"Аттестация 1\"\r\n            break;\r\n        case 1:\r\n            d = \"зачёт\"\r\n            break;\r\n        case 2:\r\n            d = \"дифф. зачёт\"\r\n            break;\r\n        case 3:\r\n            d = \"экзамен\"\r\n            break;\r\n        case 4:\r\n            d = \"курс. раб\"\r\n            break;\r\n        default:\r\n            d = \"сообщите разработчику\"\r\n            break;\r\n    }\r\n    if(data.t){\r\n        if(data.km == 1){\r\n            if(data.t >= 40){\r\n                t += \"fine\"\r\n            } else {\r\n                t += \"fail\"\r\n            }\r\n            points = data.t\r\n        } \r\n        else if(data.km == 0){\r\n            d = \"Аттестация 1\"\r\n            t += \"empty\"\r\n            points = data.a\r\n        }\r\n        else if(data.km == -2){\r\n            if(data.m){\r\n                d = \"не определено\"\r\n                if(/зач[её]т/gmi.test(data.m)){\r\n                    t += \"fine\"\r\n                    points = 'зач'\r\n                } else {\r\n                    if(/отлично/gmi.test(data.m)){\r\n                        t += \"fine\"\r\n                        points = 'отл'\r\n                    } else if(/хорошо/gmi.test(data.m)){\r\n                        t += \"good\"\r\n                        points = 'хор'\r\n                    } else if(/удовлетворительно/gmi.test(data.m)){\r\n                        t += \"bad\"\r\n                        points = 'удв' \r\n                    } else {\r\n                        if(data.km == -1){\r\n                            t += \"empty\"\r\n                            points = '❓'\r\n                        } else {\r\n                            t += \"fail\"\r\n                            points = '🙁'\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                t += 'empty'\r\n                points = '❓'\r\n            }\r\n        }else {\r\n            if(data.t > 80){\r\n                t += \"fine\"\r\n            } else if(data.t > 60){\r\n                t += \"good\"\r\n            } else if(data.t > 39){\r\n                t += \"bad\" \r\n            } else {\r\n                t += \"fail\"\r\n            }\r\n            points = data.t\r\n        }\r\n    }else{\r\n        if(data.km == 1){\r\n            if(/зач[её]т/gmi.test(data.m)){\r\n                t += \"fine\"\r\n                points = 'зач'\r\n            } else {\r\n                t += \"fail\"\r\n                points = '🙁'\r\n            }\r\n        }\r\n        else if(data.km == 0){\r\n            d = \"Аттестация 1\"\r\n            t += \"empty\"\r\n            points = data.a\r\n        }\r\n        else if(data.km == 2){\r\n                if(/зач[её]т/gmi.test(data.m)){\r\n                    t += \"fine\"\r\n                } else {\r\n                    if(/отлично/gmi.test(data.m)){\r\n                        t += \"fine\"\r\n                        points = 'отл'\r\n                    } else if(/хорошо/gmi.test(data.m)){\r\n                        t += \"good\"\r\n                        points = 'хор'\r\n                    } else if(/удовлетворительно/gmi.test(data.m)){\r\n                        t += \"bad\" \r\n                        points = 'удв'\r\n                    } else {\r\n                        if(data.km == -1){\r\n                            t += \"empty\"\r\n                            points = '❓'\r\n                        } else {\r\n                            t += \"fail\"\r\n                            points = '🙁'\r\n                        }\r\n                    }\r\n                }\r\n        } else {\r\n            if(/отлично/gmi.test(data.m)){\r\n                t += \"fine\"\r\n                points = 'отл'\r\n            } else if(/хорошо/gmi.test(data.m)){\r\n                t += \"good\"\r\n                points = 'хор'\r\n            } else if(/удовлетворительно/gmi.test(data.m)){\r\n                t += \"bad\" \r\n                points = 'удв'\r\n            } else {\r\n                t += \"fail\"\r\n                points = '🙁'\r\n            }\r\n        }\r\n    }\r\n    return (<div className={`alesha_card ${t} ${mainStore.theme}`}>\r\n        <div className=\"top\">\r\n            <div className=\"subj\">{data.name.length > 50 ? data.name.slice(0,50)+\"...\" : data.name}</div>\r\n            <div className=\"type\">{d}</div>\r\n        </div>\r\n        <div className=\"line line1\"></div>\r\n        <div className=\"line line2\"></div>\r\n        <div className=\"line line3\"></div>\r\n        <div className=\"points\">{points}</div>\r\n    </div>)\r\n}\r\n","const axios = require(\"axios\");\r\nconst parser = require(\"xml-js\");\r\n\r\nfunction getProgress(alaffair){\r\n    return axios\r\n    .get(\r\n      `https://lk.tsu.tula.ru:3443/lk/android/AndroidProgress.php?alaffair=${alaffair}`\r\n    )\r\n    .then((res) => {\r\n      if (res.status == 200) {\r\n        return parser.xml2js(res.data, {\r\n          compact: true,\r\n          textFn: (value, parent) => {\r\n            return value.replace(/^\\!\\[CDATA\\[/, \"\").replace(/]]/, \"\");\r\n          },\r\n        }).Progress.ProgressItem;\r\n      }\r\n    })\r\n    .then((data) =>\r\n      data.map((item) => {\r\n        item.name = item.DISCIPL._text;\r\n        item.term = item.TERM._text;\r\n        item.rate = item.RATING._text;\r\n        item.km = item.KM._text;\r\n        delete item.DISCIPL;\r\n        delete item.TERM;\r\n        delete item.KM;\r\n        delete item.RATING;\r\n        delete item.CODE_MARK;\r\n        return item;\r\n      })\r\n    )\r\n    .then((data) => {\r\n      const result = [];\r\n      for (let i = 1; i < 13; i++) {\r\n        let filter = data.filter((item) => item.term == i);\r\n        if (!filter.length) break;\r\n        let subjects = Array.from(new Set(filter.map((z) => z.name)));\r\n        let res = subjects.map((item) => {\r\n          return { name: item };\r\n        });\r\n        filter.map((subj) => {\r\n          let index = res.findIndex((c) => c.name == subj.name);\r\n          if (subj.km == \"атт1\") {\r\n            res[index] = { ...res[index], att1: subj.rate, total: subj.rate, km: 0};\r\n          } else {\r\n            let id_km = ['','ЗЧ', 'ДЗ', 'КР', 'Э']\r\n            res[index] = { ...res[index], total: subj.rate, km: id_km.indexOf(subj.km.toUpperCase()) };\r\n          }\r\n        });\r\n        res.sort((a,b) => b.km-a.km)\r\n        result[i - 1] = res;\r\n      }\r\n      return result;\r\n    })\r\n  \r\n}\r\n\r\nexport { getProgress }","import React, { useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, Gallery, Group, Header, CardScroll, Card, ScreenSpinner } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CustomCard from '../components/CustomCard'\r\nimport CustomGallery from '../components/CustomGallery'\r\nimport Accordeon from '../components/Accordeon'\r\nimport AleshaCard from '../components/AleshaCard'\r\n\r\nimport { getProgress } from '../utils/ProgressParser'\r\nimport { prepareDate } from '../utils/functions'\r\nimport mainStore from '../store/mainStore'\r\n\r\nimport './Progress.css';\r\n\r\nimport axios from 'axios'\r\n\r\nconst osName = platform();\r\n\r\n\r\n\r\n\r\nconst Progress = ({ setPopout, go, id, appUser, progress, setProgress, createError }) => {\r\n\tconst [ activeTerm, setActiveTerm ] = useState(null)\r\n\tconst getProgress = () => {\r\n\t\t\r\n\t\ttry{\r\n\t\taxios.get(`https://tsu-helper-server.herokuapp.com/getProgress?num=${appUser.num}`)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(!res.data.err){\r\n\t\t\t\t\tsetProgress(res.data)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcreateError({type: 1, descr: res.data.text || \"Сервер не вернул данные\", name: \"Ошибка запроса\", code: res.data, back: 'home'})\r\n\t\t\t\t\tsetPopout(null)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\tcreateError({type: 2, descr: \"Что-то пошло не так\", name: \"Ошибка запроса\", code: e, back: 'home'})\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t} )\r\n\t\t}catch(e){\r\n\t\t\tcreateError({type: 2, descr: \"Сервер вернул ошибку\", name: \"Ошибка запроса\", code: e, back: 'home'})\r\n\t\t\tsetPopout(null)\r\n\t\t}\r\n\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif(!progress){\r\n\t\t\tsetPopout(<ScreenSpinner size='large' />)\r\n\t\t\tgetProgress()\r\n\t\t} else {\r\n\t\t\tsetPopout(null)\r\n\t\t}\r\n\t},[progress])\r\n\t\r\n\treturn (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tМоя зачётка\r\n\t\t</PanelHeader>\r\n\t\t{ progress && <div className=\"updated\">Обновлено {prepareDate(progress.cacheTime)}</div> }\r\n\t\t{progress && progress.res.map((item, term) => {\r\n\t\t\treturn <Accordeon theme={mainStore.theme} title={`Семестр ${term+1}`} active={activeTerm} setActive={setActiveTerm}>\r\n\t\t\t\t{item.map(i => <AleshaCard onClick={ i.km==0 ? null : go } data-to=\"detailedprogress\" data-km={JSON.stringify({...i, term: term})} data={i}/>)}\r\n\t\t\t</Accordeon>\r\n\t\t})}\r\n\r\n\t\t{/* { progress && progress.doc.map((item, term) => {\r\n\t\t\treturn (<div className={scheme == \"space_gray\" ? \"card-block dark\" : \"card-block\"}>\r\n\t\t\t\t<CardScroll size=\"s\">\r\n\t\t\t\t\t{item.map(i => <Card onClick={ i.km==0 ? null : go } data-to=\"detailedprogress\" data-km={JSON.stringify({...i, term: term})}><CustomCard data={i}/></Card>)}\r\n\t\t\t\t</CardScroll>\r\n\t\t\t\t<div class=\"card-divider\">Семестр {term+1}</div>\r\n\t\t\t</div>)\r\n\t\t})} */}\r\n\t</Panel>\r\n)\r\n\t\t};\r\n\r\nProgress.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Progress;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, PanelHeader, IOS, Input, Group, FormLayout, Button } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport { useState } from 'react'\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport axios from 'axios';\r\n\r\nconst osName = platform();\r\n\r\n\r\nconst Start = props => {\r\n    const [form, setForm] = useState({num: '', aff: ''});\r\n    const [validAff, setValidAff] = useState(false)\r\n    const [validNum, setValidNum] = useState(false)\r\n    const register = () => {\r\n        props.setPopout(<ScreenSpinner size='large' />)\r\n        axios.get(`https://tsu-helper-server.herokuapp.com/newUser`, {params: { num: form.aff, group: form.num, id: props.vku.id}}).then((res) => {\r\n            props.setPopout(null)\r\n            if(res.data.err){\r\n                props.createError({type: 1, descr: res.data.text, name: \"Регистрация\", code: res.data, back: 'start'})\r\n                // props.setActivePanel('error')\r\n            }else{\r\n                props.setActivePanel('home')\r\n                props.setAppUser({group: form.num, num: form.aff, status: `группы ${res.data.user.group}`})\r\n            }\r\n        }).catch(e => {\r\n            props.setPopout(null)\r\n        })\r\n    }\r\n    const onChange =  (e) => {\r\n        const { name, value } = e.currentTarget;\r\n        switch(name){\r\n            case 'num':\r\n                if(/[1-9]\\d{5}/g.test(value)){\r\n                    setForm({...form, num: value})\r\n                    setValidNum(true)\r\n                } else {\r\n                    setValidNum(false)\r\n                }\r\n                break;\r\n            case 'aff':\r\n                if(/((1[3-9])|(2[0-5]))\\d{4}$/g.test(value)){\r\n                    setForm({...form, aff: value})\r\n                    setValidAff(true)\r\n                } else {\r\n                    setValidAff(false)\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\treturn (<Panel id={props.id}>\r\n    <PanelHeader>Знакомство</PanelHeader>\r\n        <Group>\r\n        <FormLayout>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"num\"\r\n                onChange={onChange}\r\n                top=\"Номер группы\" \r\n                status={validNum ? 'valid' : 'error'}\r\n                bottom={validNum ? 'Мне нравится твоя группа' : 'Некорректный номер группы'}\r\n              />\r\n              <Input\r\n                type=\"text\"\r\n                name=\"aff\"\r\n                onChange={onChange}\r\n                top=\"Номер зачётки\" \r\n                status={validAff ? 'valid' : 'error'}\r\n                bottom={validAff ? 'Полагаю, лучшая зачётка!' : 'Некорректный номер зачётки'}\r\n              />\r\n              {validAff && validNum && <Button mode=\"secondary\" onClick={register}>Войти</Button>}\r\n        </FormLayout>\r\n    </Group>\r\n    </Panel>);\r\n}\r\n\r\nexport default Start;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, InfoRow, Cell, Group, Header } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport persik from '../img/persik.png';\r\nimport './Persik.css';\r\n\r\nconst osName = platform();\r\n\r\nconst getKM = id => {\r\n\tswitch(id){\r\n\t\tcase 0:\r\n\t\t\treturn \"Не определено\"\r\n\t\tcase 1:\r\n\t\t\treturn \"Зачёт\"\r\n\t\tcase 2: \r\n\t\t\treturn \"Дифференцированный зачёт\"\r\n\t\tcase 3:\r\n\t\t\treturn \"Экзамен\"\r\n\t\tcase 4:\r\n\t\t\treturn \"Курсовая работа\"\r\n\t\tdefault:\r\n\t\t\treturn \"Ошибка. Сообщите разработчику\"\r\n\t}\r\n}\r\n\r\nconst DetailedProgress = ({ id, go, data }) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={go} data-to=\"progress\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tКурс {Math.floor(data.term/2)+1}. Семестр {data.term+1}\r\n\t\t</PanelHeader>\r\n\t\t<Group>\r\n\t\t<Header mode=\"primary\">{data.name}</Header>\r\n\t\t\t<Cell>\r\n\t\t\t\t<InfoRow header=\"Тип\">{getKM(data.km)}</InfoRow>\r\n\t\t\t</Cell>\r\n\t\t\t<Cell>\r\n\t\t\t\t<InfoRow header=\"Первая аттестация\">{data.a || \"Нет информации\"}</InfoRow>\r\n\t\t\t</Cell>\r\n\t\t\t<Cell>\r\n\t\t\t\t<InfoRow header=\"Итоговый балл\">{data.t || \"Нет информации\"}</InfoRow>\r\n\t\t\t</Cell>\r\n\t\t\t<Cell>\r\n\t\t\t\t<InfoRow header=\"Отметка\">{data.m}</InfoRow>\r\n\t\t\t</Cell>\r\n\t\t</Group>\r\n\t</Panel>\r\n);\r\n\r\nDetailedProgress.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default DetailedProgress;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport stick1 from '../img/0_0.png';\r\nimport stick2 from '../img/0_1.png';\r\nimport stick3 from '../img/0_2.png';\r\nimport stick4 from '../img/1_0.png';\r\nimport stick5 from '../img/1_1.png';\r\nimport stick6 from '../img/1_2.png';\r\nimport stick7 from '../img/1_3.png';\r\nimport stick8 from '../img/1_4.png';\r\nimport stick9 from '../img/2_0.png';\r\nimport './Error.css';\r\n\r\nconst osName = platform();\r\n\r\nconst stickers = [\r\n    [stick1, stick2, stick3],\r\n    [stick4, stick5, stick6, stick7, stick8],\r\n    [stick9]\r\n];\r\n\r\nfunction randomInteger(min, max) {\r\n    // получить случайное число от (min-0.5) до (max+0.5)\r\n    let rand = min - 0.5 + Math.random() * (max - min + 1);\r\n    return Math.round(rand);\r\n  }\r\n\r\nconst Error = props => {\r\n    console.log(props)\r\n    const sticker = stickers[props.err.type][randomInteger(0,stickers[props.err.type].length)]\r\n\tconst scheme = document.body.attributes.getNamedItem(\"scheme\").value\r\n\treturn (<Panel id={props.id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to={props.err.back}>\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t/>\r\n            <img src={sticker} class=\"Persik\" />\r\n            <div className=\"err-header\">{props.err.type ? props.err.type == 1 ? props.err.name : \"Внезапная ошибка\" : \"Сервер уснул\"}</div>\r\n            <div className=\"err-descr\">{props.err.type ? props.err.descr : \"Мы скоро всё обязательно починим\"}</div>\r\n            <div className=\"err-descr-sub\">Пожалуйста, заскринь и сообщи <a href=\"http://vk.com/kekovinya\">Антону</a> о произошедшем</div>\r\n            {props.err.code && <div className=\"err-body\" style={{color: scheme == \"space_gray\" ? \"\" : \"white\"}}>{JSON.stringify(props.err.code)}</div>}\r\n\t</Panel>);\r\n    }\r\n\r\nexport default Error;\r\n","import React from 'react';\r\nimport { prepareDate } from '../utils/functions'\r\n\r\nimport './newscard.css';\r\n\r\n\r\nexport default function NewsCard({ text, photo, date }) {\r\n\tconst scheme = document.body.attributes.getNamedItem(\"scheme\").value\r\n    return (\r\n        <div className={`news-wraper ${scheme == 'space_gray' ? 'dark' : null}`}>\r\n            {photo ? <div className=\"image-wraper\">\r\n                 <img src={photo}></img>\r\n            </div>: null }\r\n            <div className=\"news-content\">\r\n                <div className=\"news-text\">{text}</div>\r\n                <div className=\"news-time\">{prepareDate(date)}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { platform, IOS, CardGrid } from '@vkontakte/vkui';\r\nimport NewsCard from '../components/NewsCard'\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\n\r\n// const scheme = document.body.attributes.getNamedItem(\"scheme\").value\r\nconst osName = platform();\r\n\r\nconst News = ({ id, go }) => {\r\n    const [news, setNews] = useState(null)\r\n    useEffect(() => {\r\n        bridge.send(\"VKWebAppCallAPIMethod\", {\r\n            \t\t\"method\": \"wall.get\",\r\n            \t\t\"request_id\": \"1212\",\r\n            \t\t\"params\": {\r\n            \t\t\t\"owner_id\": -202317653,\r\n                        \"count\": 10,\r\n                        \"filter\": 'owner',\r\n            \t\t\t\"access_token\":\"2c47d1312c47d1312c47d131972c32608422c472c47d13173add6862d3b4b7516945aba\",\r\n            \t\t\t\"v\":\"5.130\"\r\n            \t\t}\r\n            \t})\r\n                .then(res => {\r\n                    if(res.response){\r\n                        setNews(res.response.items)\r\n                    }\r\n                })\r\n    }, []);\r\n\treturn (<Panel id={id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tНовости\r\n\t\t</PanelHeader>\r\n        <CardGrid style={{marginTop: \"15px\"}}>\r\n            {news && news.map(item => {\r\n                const attachments = item.attachments ? item.attachments.pop() : null\r\n                const photo = attachments ? attachments.photo.sizes.pop().url : null\r\n                return (<NewsCard text={item.text} date={item.date*1000} photo={photo} />)\r\n            })}\r\n        </CardGrid>\r\n\t</Panel>);\r\n}\r\n\r\n\r\nexport default News;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, Input, Group, List, Cell, Header } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport { Icon24UserIncoming } from '@vkontakte/icons';\r\n\r\nconst osName = platform();\r\n\r\nconst AdminMenu = props => {\r\n\treturn (<Panel id={props.id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tУправление\r\n\t\t</PanelHeader>\r\n        <Group header={<Header mode=\"secondary\">Пользователи</Header>}>\r\n\t\t\t<List>\r\n\t\t\t\t<Cell before={<Icon24UserIncoming/>} onClick={props.go} data-to=\"lastVisit\">Последние посетители</Cell>\r\n\t\t\t</List>\r\n    \t</Group>\r\n\t</Panel>)\r\n}\r\n\r\nAdminMenu.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AdminMenu;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS, Input, Group, RichCell, Avatar } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport axios from 'axios'\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nimport { prepareDate } from '../../utils/functions'\r\n\r\nconst osName = platform();\r\n\r\nconst LastVisit = props => {\r\n    const [ users, setUsers ] = useState(null)\r\n    useEffect(() => {\r\n        props.setPopout(<ScreenSpinner size='large' />)\r\n        axios.get(\"https://tsu-helper-server.herokuapp.com/getLastVisit\", {timeout: 15000})\r\n        .then(res => {\r\n        bridge.send(\"VKWebAppCallAPIMethod\", {\r\n            \"method\": \"users.get\",\r\n            \"request_id\": \"1212\",\r\n            \"params\": {\r\n                \"user_ids\": res.data.users.map(item => item.id).join(\", \"),\r\n                \"access_token\":\"5939b522f443640db39af76cf6708863610df1a7e2cfd1fae85d46fce90d14928710a613a3591869588df\",\r\n                \"fields\": \"photo_100\"\r\n            }\r\n        }).then(resp => {\r\n            props.setPopout(null)\r\n            resp.response.map( (item, index) => {\r\n                item.lastVisit = res.data.users[index].lastVisit\r\n            })\r\n            setUsers(resp.response)\r\n            \r\n        }).catch(e => console.log(e.error_data))\r\n    })\r\n    }, []);\r\n\treturn (<Panel id={props.id}>\r\n\t\t<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"adminMenu\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tПоследние 10\r\n\t\t</PanelHeader>\r\n        <Group>\r\n        {users && users.map(user => {\r\n            console.log(user)\r\n            return <RichCell before={<Avatar src={user.photo_100}/>} caption={user.lastVisit ? prepareDate(user.lastVisit) : \"нет данных\"}>\r\n                { user.first_name + ' ' + user.last_name } \r\n            </RichCell>\r\n        })}\r\n    \t</Group>\r\n\t</Panel>)\r\n}\r\n\r\nLastVisit.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default LastVisit;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Icon56NotificationOutline, Icon24Done, Icon24Cancel } from '@vkontakte/icons';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport { Avatar, Snackbar, ModalRoot, ModalPage, ModalPageHeader, PanelHeaderButton, FormLayout, Group, Text, Input, Button, Radio } from '@vkontakte/vkui'\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport axios from 'axios'\r\nimport { observer, Provider } from 'mobx-react'\r\nimport { serverURL } from './config'\r\n\r\nimport mainStore from './store/mainStore'\r\n\r\n\r\nimport Home from './panels/Home';\r\nimport Persik from './panels/Persik';\r\nimport Schedule from './panels/Schedule';\r\nimport Settings from './panels/Settings'\r\nimport Progress from './panels/Progress'\r\nimport Start from './panels/Start'\r\nimport DetailedProgress from './panels/DetailedProgress'\r\nimport Error from './panels/Error'\r\nimport News from './panels/News'\r\nimport AdminMenu from './panels/AdminMenu'\r\nimport LastVisit from './panels/admin/LastVisit'\r\nimport { MODAL_CHANGE_GROUP, MODAL_CHANGE_NUM, MODAL_CHANGE_SCHED_THEME } from './utils/modals.js'\r\n\r\nconst App = () => {\r\n\tconst [schedule, setSchedule] = useState(null)\r\n\tconst [valid, setValid] = useState(false)\r\n\tconst [textForm, setTextForm] = useState('')\r\n\tconst [snackbar, setSnackbar] = useState(null)\r\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />)\r\n\t\r\n\tconst sendNotification = (text) => {\r\n\t\treturn bridge.send('VKWebAppGetUserInfo').then(res => bridge.send(\"VKWebAppCallAPIMethod\", {\r\n\t\t\t\"method\": \"notifications.sendMessage\",\r\n\t\t\t\"request_id\": \"1212\",\r\n\t\t\t\"params\": {\r\n\t\t\t\t\"user_ids\": res.id,\r\n\t\t\t\t\"message\": \"Тестовое уведомление. Я рад, что ты с нами!\",\r\n\t\t\t\t\"access_token\":\"2c47d1312c47d1312c47d131972c32608422c472c47d13173add6862d3b4b7516945aba\",\r\n\t\t\t\t\"v\":\"5.130\"\r\n\t\t\t}\r\n\t\t}))\r\n\t}\r\n\tconst modalBack = (...args) => {\r\n\t\tconst type = args[0]\r\n\t\tvar params\r\n\t\tif(textForm || args[1]){\r\n\t\t\t\tswitch(type){\r\n\t\t\t\t\tcase 'num':\r\n\t\t\t\t\t\tparams = { num: textForm }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'group':\r\n\t\t\t\t\t\tparams = { group: textForm }\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'theme_sched':\r\n\t\t\t\t\t\tparams = { themeSched:  args[1]}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tsetPopout(<ScreenSpinner size='large' />)\r\n\t\t\t\taxios.get(`${serverURL}/updateUser`, {params: {\r\n\t\t\t\t\tid: mainStore.fetchedUser.id,\r\n\t\t\t\t\t...params\r\n\t\t\t\t}, timeout: 15000}).then(res => {\r\n\t\t\t\t\tif(res.data.err){\r\n\t\t\t\t\t\tcreateError({type: 1, descr: res.data.text, name: \"Изменение настроек\", code: res.data, back: 'settings'})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconst snack = (<Snackbar\r\n\t\t\t\t\t\t\tonClose={() => setSnackbar(null)}\r\n\t\t\t\t\t\t\tafter={<Avatar src={mainStore.fetchedUser.photo_100} size={32} />}\r\n\t\t\t\t\t\t>Данные обновлены успешно</Snackbar>)\r\n\t\t\t\t\t\tsetSnackbar(snack)\r\n\t\t\t\t\t\tmainStore.setAppUser({group: res.data.updated.group || mainStore.appUser.group, num: res.data.updated.num || mainStore.appUser.num,\r\n\t\t\t\t\t\t\tthemeSched: res.data.updated.themeSched || mainStore.appUser.themeSched, status: `группы ${res.data.updated.group || mainStore.appUser.group}`})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetPopout(null)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tsetValid(false)\r\n\t\t\tsetTextForm('')\r\n\t\t\tmainStore.setActiveModal(mainStore.modalHistory[mainStore.modalHistory.length - 2]);\r\n\t};\r\n\t\r\n\tbridge.subscribe(({ detail: { type, data }}) => {\r\n\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\tconst theme = data.scheme ? data.scheme : 'client_light';\r\n\t\t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t\tschemeAttribute.value = theme\r\n\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t\tmainStore.setTheme(theme == \"space_gray\" ? \"dark\" : \"light\")\r\n\t\t}\r\n\t\t\r\n\t});\r\n\tconst createError = (obj) => {\r\n\t\tmainStore.setError({...mainStore.error, ...obj})\r\n\t\tmainStore.setActivePanel('error')\r\n\t}\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tasync function fetchData() {\r\n\t\t\treturn await bridge.send('VKWebAppGetUserInfo').then(res => {\r\n\t\t\t\tmainStore.setVkUser(res);\r\n\t\t\t\treturn res.id\r\n\t\t\t})\r\n\t\t}\r\n\t\tconst getUser = async (id) => {\r\n\t\t\tsetPopout(<ScreenSpinner size='large' />)\r\n\t\t\treturn await axios.get(`${serverURL}/getUser`, {params: {id: id}})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(!res.data.err){\r\n\t\t\t\t\tif(res.data.user){\r\n\t\t\t\t\t\tmainStore.setAppUser({group: res.data.user.group, num: res.data.user.num, status: `группы ${res.data.user.group}`, \r\n\t\t\t\t\t\t\t\t\t\tthemeSched: res.data.user.themeSched || 0})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmainStore.setActivePanel('start')\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmainStore.setActivePanel('start')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\tfetchData().then(getUser).then(() => {\r\n\t\t\tmainStore.getSchedule().then(res => {\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tcreateError({type: 1, code: res, descr: res.text})\r\n\t\t\t\t}\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then((id) => {\r\n\t\t\tbridge.send(\"VKWebAppCallAPIMethod\", {\r\n\t\t\t\t\"method\": \"apps.isNotificationsAllowed\",\r\n\t\t\t\t\"request_id\": \"1212\",\r\n\t\t\t\t\"params\": {\r\n\t\t\t\t\t\"user_id\": id,\r\n\t\t\t\t\t\"access_token\":\"2c47d1312c47d1312c47d131972c32608422c472c47d13173add6862d3b4b7516945aba\",\r\n\t\t\t\t\t\"v\":\"5.130\"\r\n\t\t\t\t}\r\n\t\t\t}).then(resp => {\r\n\t\t\t\tconsole.info(resp)\r\n\t\t\t\tif(!resp.isAllowed){\r\n\t\t\t\t\tbridge.send(\"VKWebAppAllowNotifications\")\r\n\t\t\t\t}\r\n\t\t\t}).catch(e => console.log(e.error_data))\r\n\t\t})\r\n\t}, []);\r\n\tconst onModalChangeForm = e => {\r\n\t\tconst { name, value } = e.currentTarget;\r\n\t\tsetTextForm(value)\r\n        switch(name){\r\n            case 'group':\r\n                if(/[1-9]\\d{5}/g.test(value)){\r\n                    setValid(true)\r\n                } else {\r\n                    setValid(false)\r\n                }\r\n                break;\r\n            case 'aff':\r\n                if(/((1[3-9])|(2[0-5]))\\d{4}$/g.test(value)){\r\n                    setValid(true)\r\n                } else {\r\n                    setValid(false)\r\n                }\r\n                break;\r\n        }\r\n\t}\t\r\n\tconst modalRoot = (\r\n\t\t<ModalRoot \r\n\t\tactiveModal={mainStore.modal}\r\n\t\tonClose={modalBack}>\r\n\t\t<ModalPage\r\n          id={MODAL_CHANGE_GROUP}\r\n          onClose={modalBack}\r\n          header={\r\n            <ModalPageHeader\r\n              left={<PanelHeaderButton onClick={modalBack}><Icon24Cancel /></PanelHeaderButton>}\r\n              right={<PanelHeaderButton onClick={modalBack.bind(this, 'group')} disabled={!valid}><Icon24Done /></PanelHeaderButton>}\r\n            >\r\n              Номер группы\r\n            </ModalPageHeader>\r\n          }\r\n        >\r\n\t\t\t<Group style={{paddingBottom: \"50px\"}}>\r\n\t\t\t\t<FormLayout>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"group\"\r\n\t\t\t\t\tonChange={onModalChangeForm}\r\n\t\t\t\t\tstatus={textForm ? valid ? 'valid' : 'error' : 'default'}\r\n\t\t\t\t\tbottom={textForm ? valid ? 'Мне нравится твоя группа' : 'Некорректный номер группы' : ''}/>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t</Group>\r\n\t\t</ModalPage>\r\n\t\t<ModalPage\r\n          id={MODAL_CHANGE_NUM}\r\n          onClose={modalBack}\r\n          header={\r\n            <ModalPageHeader\r\n              left={<PanelHeaderButton onClick={modalBack}><Icon24Cancel /></PanelHeaderButton>}\r\n              right={<PanelHeaderButton onClick={modalBack.bind(this, 'num')} disabled={!valid}><Icon24Done /></PanelHeaderButton>}\r\n            >\r\n              Номер зачётки\r\n            </ModalPageHeader>\r\n          }\r\n        >\r\n\t\t\t<Group style={{paddingBottom: \"50px\"}}>\r\n\t\t\t\t<FormLayout>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"aff\"\r\n\t\t\t\t\tonChange={onModalChangeForm} \r\n\t\t\t\t\tstatus={textForm ? valid ? 'valid' : 'error' : 'default'}\r\n\t\t\t\t\tbottom={textForm ? valid ? 'Полагаю, лучшая зачётка' : 'Некорректный номер зачётки' : ''}/>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t</Group>\r\n\t\t</ModalPage>\r\n\t\t<ModalPage\r\n          id={MODAL_CHANGE_SCHED_THEME}\r\n          onClose={modalBack}\r\n          header={\r\n            <ModalPageHeader\r\n              left={<PanelHeaderButton onClick={modalBack}><Icon24Cancel /></PanelHeaderButton>}\r\n              right={<PanelHeaderButton onClick={modalBack.bind(this, 'theme_sched', mainStore.appUser.themeSched)} disabled={!valid}><Icon24Done /></PanelHeaderButton>}\r\n            >\r\n              Выберите стиль\r\n            </ModalPageHeader>\r\n          }\r\n        >\r\n\t\t\t<Radio name=\"style_sched\" value=\"main\" onClick={modalBack.bind(this, 'theme_sched', 0)}>Main</Radio>\r\n\t\t\t<Radio name=\"style_sched\" value=\"alesha\" onClick={modalBack.bind(this, 'theme_sched', 1)}>Alesha</Radio>\r\n\t\t</ModalPage>\r\n\t\t</ModalRoot>\r\n\t)\r\n\tconst go = e => {\r\n\t\tmainStore.setActivePanel(e.currentTarget.dataset.to);\r\n\t\tif(e.currentTarget.dataset.km){\r\n\t\t\tmainStore.setDetailed(JSON.parse(e.currentTarget.dataset.km))\r\n\t\t}\r\n\t};\r\n\tconst createUser = (errorHandler, form) => {\r\n\t\tsetPopout(<ScreenSpinner size='large' />)\r\n\t\taxios.get(`${serverURL}/newUser`, {params: {id: mainStore.fetchedUser.id, group: form.group, num: form.num}})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(!res.data.err){\r\n\t\t\t\t\tmainStore.setAppUser({group: res.data.user.group, num: res.data.user.num})\r\n\t\t\t\t\tsetPopout(null)\r\n\t\t\t\t\tmainStore.setActivePanel('home')\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrorHandler({header: \"Ошибка сервера\", text: res.data.text})\r\n\t\t\t\t\tsetPopout(null)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Provider store={mainStore}>\r\n\t\t\t<View activePanel={mainStore.activePanel} popout={popout} modal={modalRoot}>\r\n\t\t\t\t<Start id=\"start\" createError={createError} createUser={createUser} setPopout={mainStore.setPopout} setActivePanel={mainStore.setActivePanel} setAppUser={mainStore.setAppUser} vku={mainStore.fetchedUser}/>\r\n\t\t\t\t<Home id='home' fetchedUser={mainStore.fetchedUser} go={go} appUser={mainStore.appUser}/>\r\n\t\t\t\t<Persik id='persik' go={go} />\r\n\t\t\t\t<Schedule id=\"schedule\" go={go} setPopout={setPopout} schedule={mainStore.schedule} setSchedule={setSchedule} group={mainStore.appUser.group} appUser={mainStore.appUser} createError={createError}/>\r\n\t\t\t\t<Settings id=\"settings\" go={go} appUser={mainStore.appUser} setModal={mainStore.setModal} snackbar={snackbar}/>\r\n\t\t\t\t<DetailedProgress id=\"detailedprogress\" go={go} data={mainStore.detailed}/>\r\n\t\t\t\t<Error id='error' err={mainStore.error} go={go}/>\r\n\t\t\t\t<Progress id=\"progress\" go={go} createError={createError} setPopout={setPopout} appUser={mainStore.appUser} setDetailed={mainStore.setDetailed} progress={mainStore.progress} setProgress={mainStore.setProgress}/>\r\n\t\t\t\t<News id=\"news\" go={go} />\r\n\r\n\t\t\t\t<AdminMenu id=\"adminMenu\" go={go} />\r\n\t\t\t\t<LastVisit id=\"lastVisit\" go={go} setPopout={mainStore.setPopout}/>\r\n\t\t\t</View>\r\n\t\t</Provider>\r\n\t);\r\n}\r\n\r\nexport default observer(App);\r\n\r\n","import \"core-js/features/map\";\r\nimport \"core-js/features/set\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nif (process.env.NODE_ENV === \"development\") {\r\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n}\r\n","const MODAL_CHANGE_NUM = 'change-num';\r\nconst MODAL_CHANGE_GROUP = 'change-group';\r\nconst MODAL_CHANGE_SCHED_THEME = 'change-sched';\r\nmodule.exports = {\r\n    MODAL_CHANGE_GROUP,\r\n    MODAL_CHANGE_NUM,\r\n    MODAL_CHANGE_SCHED_THEME\r\n}","module.exports = {\r\n    serverURL: 'https://tsu-helper-server.herokuapp.com',\r\n    version: 'v0.3.1'\r\n}"],"sourceRoot":""}